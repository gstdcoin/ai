# ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

## üéØ –í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω—ã

### 1. ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
- **–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ**: AES-256-GCM –¥–ª—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- **End-to-end**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —à–∏—Ñ—Ä—É—é—Ç—Å—è –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∫–ª—é—á–∏**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ task_id + requester_address
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –¢–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—á–∏–∫ –º–æ–∂–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### 2. ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∑–∞–∫–∞–∑—á–∏–∫–æ–º
- **API**: `GET /api/v1/tasks/:id/result?requester_address=<address>`
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞**: –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤**: –¢–æ–ª—å–∫–æ –∑–∞–∫–∞–∑—á–∏–∫ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### 3. ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–∞ –∫–æ—à–µ–ª–µ–∫
- **–£–±—Ä–∞–Ω–∞ UNIQUE constraint**: –û–¥–∏–Ω –∫–æ—à–µ–ª–µ–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –º–Ω–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**: `POST /api/v1/device/register`
- **–°–ø–∏—Å–æ–∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤**: `GET /api/v1/device/my-devices?wallet_address=<address>`
- **–£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π device_id (fingerprint)

### 4. ‚úÖ –¢–∞–π–º–∞—É—Ç—ã –∏ –ø–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞**: –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- **–¢–∞–π–º–∞—É—Ç**: task time_limit + 2 –º–∏–Ω—É—Ç—ã –±—É—Ñ–µ—Ä
- **–ü–µ—Ä–µ—Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: –ó–∞–¥–∞—á–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å
- **–°—Ç–∞—Ç—É—Å**: `assigned` ‚Üí `pending` –ø—Ä–∏ —Ç–∞–π–º–∞—É—Ç–µ

### 5. ‚úÖ –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
- **–ê–¥–º–∏–Ω—Å–∫–∏–π –∫–æ—à–µ–ª–µ–∫**: `UQCkXFlNRsubUp7Uh7lg_ScUqLCiff1QCLsdQU0a7kphqQED`
- **–ö–æ–º–∏—Å—Å–∏—è**: 5% (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `PLATFORM_FEE_PERCENT`)
- **–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**: 
  - Executor: `reward_amount √ó 0.95`
  - Platform: `reward_amount √ó 0.05` ‚Üí –∞–¥–º–∏–Ω—Å–∫–∏–π –∫–æ—à–µ–ª–µ–∫
- **–§–æ–Ω–¥ –ø–æ–¥–¥–µ—Ä–∂–∫–∏**: –ö–æ–º–∏—Å—Å–∏—è –∏–¥–µ—Ç –Ω–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–æ–ª–æ—Ç–æ–≥–æ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è

## üìã API Endpoints

### –î–ª—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- `POST /api/v1/device/register` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `GET /api/v1/device/my-devices?wallet_address=<address>` - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∫–æ—à–µ–ª—å–∫–∞
- `GET /api/v1/device/tasks/available?device_id=<id>&limit=10` - –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
- `POST /api/v1/device/tasks/:id/claim?device_id=<id>` - –≤–∑—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ
- `POST /api/v1/device/tasks/:id/result` - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### –î–ª—è –∑–∞–∫–∞–∑—á–∏–∫–æ–≤
- `GET /api/v1/tasks/:id/result?requester_address=<address>` - –ø–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üîß –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è

1. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è**
   - –ó–∞–∫–∞–∑—á–∏–∫ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ UI
   - –î–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä—É—é—Ç—Å—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ó–∞–¥–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º

2. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏—è**
   - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è
   - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ "–±–µ—Ä–µ—Ç" –∑–∞–¥–∞–Ω–∏–µ (claim)
   - –ó–∞–¥–∞–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è —Å —Ç–∞–π–º–∞—É—Ç–æ–º (time_limit + 2 –º–∏–Ω)

3. **–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**
   - –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞–Ω–∏–µ
   - –†–µ–∑—É–ª—å—Ç–∞—Ç —à–∏—Ñ—Ä—É–µ—Ç—Å—è –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä

4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –≤—ã–ø–ª–∞—Ç–∞**
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è
   - –ü–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
     - Executor –ø–æ–ª—É—á–∞–µ—Ç: `reward √ó 0.95`
     - Platform –ø–æ–ª—É—á–∞–µ—Ç: `reward √ó 0.05` ‚Üí –∞–¥–º–∏–Ω—Å–∫–∏–π –∫–æ—à–µ–ª–µ–∫

5. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞**
   - –ó–∞–∫–∞–∑—á–∏–∫ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç
   - –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
   - –†–µ–∑—É–ª—å—Ç–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è
   - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑—á–∏–∫—É

### –¢–∞–π–º–∞—É—Ç—ã

- –§–æ–Ω–æ–≤–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ï—Å–ª–∏ –∑–∞–¥–∞–Ω–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤ —Å—Ä–æ–∫ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –≤ –æ—á–µ—Ä–µ–¥—å
- –î—Ä—É–≥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –º–æ–∂–µ—Ç –≤–∑—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ

## üöß –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (UI)

1. **–£–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á–∏**
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π
   - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å efficiency
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏

2. **–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–¥–∞—á–∏**
   - –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –†–µ–∑—É–ª—å—Ç–∞—Ç (–¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞)
   - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ

3. **WebSocket –¥–ª—è real-time**
   - –û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–¥–∞–Ω–∏—è—Ö
   - –ü—Ä–æ–≥—Ä–µ—Å—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

## üìö –ö–æ–¥

- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ: `backend/internal/services/encryption_service.go`
- –¢–∞–π–º–∞—É—Ç—ã: `backend/internal/services/timeout_service.go`
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã: `backend/internal/services/result_service.go`
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: `backend/internal/services/assignment_service.go`
- –£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞: `backend/internal/services/device_service.go`
- API: `backend/internal/api/routes.go` + `routes_device.go`

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç:
- ‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã
- ‚úÖ –ö–æ–º–∏—Å—Å–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

