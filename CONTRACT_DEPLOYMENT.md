# üöÄ –î–ï–ü–õ–û–ô –ö–û–ù–¢–†–ê–ö–¢–û–í GSTD PLATFORM

## üìã –ö–û–ù–¢–†–ê–ö–¢–´ –î–õ–Ø –î–ï–ü–õ–û–Ø

### 1. Escrow Contract (`escrow.tact`)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ–ø–æ–∑–∏—Ç–∞–º–∏ –∑–∞–¥–∞—á –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π (95% worker, 5% admin)

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**:
- `owner`: –ê–¥—Ä–µ—Å –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ (–≤–∞—à –∞–¥–º–∏–Ω –∫–æ—à–µ–ª–µ–∫)
- `adminWalletAddress`: –ê–¥—Ä–µ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è 5% –∫–æ–º–∏—Å—Å–∏–∏ (`ADMIN_WALLET` –∏–∑ .env)

## üîó –°–°–´–õ–ö–ò –î–õ–Ø –î–ï–ü–õ–û–Ø

### Tact IDE (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**Escrow Contract**:
```
https://tact-ide.vercel.app/?code=YOUR_ESCROW_CONTRACT_CODE
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Tact Playground:
```
https://tact-lang.org/playground
```

### Blueprint (TON Foundation)

```
https://blueprint.ton.org/
```

### Tact Deploy Tool

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Tact
npm install -g @tact-lang/cli

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
tact compile contracts/escrow.tact

# –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ toncli –∏–ª–∏ blueprint
```

## üìù –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –î–ï–ü–õ–û–Æ

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `contracts/escrow.tact`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   ```tact
   init(owner: Address, adminWalletAddress: Address) {
       Ownable.init(owner);
       self.adminWallet = adminWalletAddress;
   }
   ```

### –®–∞–≥ 2: –ö–æ–º–ø–∏–ª—è—Ü–∏—è

```bash
cd /home/ubuntu
tact compile contracts/escrow.tact
```

### –®–∞–≥ 3: –î–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ Blueprint

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://blueprint.ton.org/
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫–æ—à–µ–ª–µ–∫ (–∞–¥–º–∏–Ω –∫–æ—à–µ–ª–µ–∫)
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç
4. –£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:
   - `owner`: –í–∞—à –∞–¥–º–∏–Ω –∫–æ—à–µ–ª–µ–∫
   - `adminWalletAddress`: `ADMIN_WALLET` –∏–∑ .env
5. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –¥–µ–ø–ª–æ–π

### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞. –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ `.env`:

```bash
TON_CONTRACT_ADDRESS=<–∞–¥—Ä–µ—Å_–¥–µ–ø–ª–æ—è_–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞>
```

## üîß –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ï –ú–ï–¢–û–î–´ –î–ï–ü–õ–û–Ø

### –ß–µ—Ä–µ–∑ toncli

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ toncli
pip install toncli

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
toncli start

# –ö–æ–º–ø–∏–ª—è—Ü–∏—è
toncli build

# –î–µ–ø–ª–æ–π
toncli deploy
```

### –ß–µ—Ä–µ–∑ TON SDK (JavaScript)

```javascript
const { Contract, WalletContractV4, internal } = require("@ton/ton");
const { mnemonicToWalletKey } = require("@ton/crypto");

// –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
const contract = await Contract.fromCell(
    Cell.fromBoc(compiledContract)[0]
);

// –î–µ–ø–ª–æ–π
await contract.deploy(initParams);
```

## ‚úÖ –ü–†–û–í–ï–†–ö–ê –î–ï–ü–õ–û–Ø

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–ê–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞**:
   ```bash
   curl https://tonapi.io/v2/accounts/<CONTRACT_ADDRESS>
   ```

2. **–ë–∞–ª–∞–Ω—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞**:
   - –ö–æ–Ω—Ç—Ä–∞–∫—Ç –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –±–∞–ª–∞–Ω—Å 0 (–∏–ª–∏ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏)

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –±–ª–æ–∫—á–µ–π–Ω–µ**:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ TON Explorer: https://tonscan.org/
   - –í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç –∞–∫—Ç–∏–≤–µ–Ω

## üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨

‚ö†Ô∏è **–í–ê–ñ–ù–û**:
- –•—Ä–∞–Ω–∏—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- –ù–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ Git
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.env` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

## üìä –ü–û–°–õ–ï –î–ï–ü–õ–û–Ø

1. **–û–±–Ω–æ–≤–∏—Ç–µ .env**:
   ```bash
   TON_CONTRACT_ADDRESS=<–∞–¥—Ä–µ—Å_–∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞>
   ADMIN_WALLET=<–≤–∞—à_–∞–¥–º–∏–Ω_–∫–æ—à–µ–ª–µ–∫>
   ```

2. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É**:
   ```bash
   docker-compose restart backend
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É**:
   ```bash
   curl http://localhost:8080/api/v1/pool/status
   ```

## üéØ –°–¢–ê–¢–£–°

‚úÖ **–ì–û–¢–û–í–û –ö –î–ï–ü–õ–û–Æ**:
- Escrow –∫–æ–Ω—Ç—Ä–∞–∫—Ç –≥–æ—Ç–æ–≤
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–µ–ø–ª–æ—é –≥–æ—Ç–æ–≤—ã

---

**–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –æ–±–Ω–æ–≤–∏—Ç–µ `TON_CONTRACT_ADDRESS` –≤ `.env`!**

