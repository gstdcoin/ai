# üîç Full System Review - GSTD Platform

**–î–∞—Ç–∞:** 11 —è–Ω–≤–∞—Ä—è 2026  
**–¢–∏–ø:** –ì–ª—É–±–æ–∫–∏–π —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞—É–¥–∏—Ç –ø–æ—Å–ª–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–ó–ê–í–ï–†–®–ï–ù**

---

## üìä Executive Summary

–ü—Ä–æ–≤–µ–¥–µ–Ω –ø–æ–ª–Ω—ã–π —Å–∏—Å—Ç–µ–º–Ω—ã–π –∞—É–¥–∏—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã GSTD. **–û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã**, –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ —Ä–∞–±–æ—Ç—É PaymentTracker –∏ PayoutRetryService: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü—ã `payout_transactions`, `payout_intents`, `failed_payouts` –≤ –ë–î `postgres`. –¢–∞–∫–∂–µ –≤—ã—è–≤–ª–µ–Ω—ã –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é.

**–û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** **68%** (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Ç—Ä–µ–±—É—é—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è)

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –ë–î –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–∞–±–ª–∏—Ü—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Backend –æ–∂–∏–¥–∞–µ—Ç –ë–î `distributed_computing`, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `postgres`
- –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü—ã: `payout_transactions`, `payout_intents`, `failed_payouts`
- PaymentTracker –∏ PayoutRetryService –ø–∞–¥–∞—é—Ç —Å –æ—à–∏–±–∫–∞–º–∏

**–õ–æ–≥–∏:**
```
PaymentTracker: Error querying pending transactions: pq: relation "payout_transactions" does not exist
PayoutRetryService: Error querying failed payouts: pq: relation "failed_payouts" does not exist
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –°–æ–∑–¥–∞—Ç—å –ë–î `distributed_computing` –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ v10, v15 –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ç–∞–±–ª–∏—Ü

---

### 2. –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–æ–¥–µ–ª–µ–π –¥–∞–Ω–Ω—ã—Ö (Go ‚Üî TypeScript)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- **Go –º–æ–¥–µ–ª—å** (`task.go`) —Å–æ–¥–µ—Ä–∂–∏—Ç 48 –ø–æ–ª–µ–π
- **TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (`TasksPanel.tsx`) —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ 7 –ø–æ–ª–µ–π
- Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –º–æ–¥–µ–ª—å, –Ω–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–∂–∏–¥–∞–µ—Ç —É–ø—Ä–æ—â–µ–Ω–Ω—É—é

**Go –º–æ–¥–µ–ª—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
```go
TaskID, RequesterAddress, TaskType, Operation, Model,
LaborCompensationTon, PriorityScore, Status, CreatedAt,
EscrowStatus, ConfidenceDepth
```

**TypeScript –æ–∂–∏–¥–∞–µ—Ç:**
```typescript
interface Task {
  task_id: string;
  task_type: string;
  status: string;
  labor_compensation_ton: number;
  created_at: string;
  completed_at?: string;
  assigned_device?: string;
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Frontend –º–æ–∂–µ—Ç –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∑–∞–¥–∞—á–∏, –µ—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç.

**–†–µ—à–µ–Ω–∏–µ:** –†–∞—Å—à–∏—Ä–∏—Ç—å TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç API.

---

### 3. Gateway Timeout (504)

**–ü—Ä–æ–±–ª–µ–º–∞:**
- `curl https://app.gstdtoken.com/api/v1/tasks` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 504 Gateway Timeout
- Backend —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `network_mode: "host"` –∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `127.0.0.1:8080`
- Nginx –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –Ω–∞ `http://172.17.0.1:8080/api/` (host network)

**–ü—Ä–∏—á–∏–Ω–∞:** Backend –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ Docker network –∏–ª–∏ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤–æ–≤—Ä–µ–º—è.

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏.

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Security Headers –≤ gateway.conf

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚ùå –ù–µ—Ç `Strict-Transport-Security`
- ‚ùå –ù–µ—Ç `X-Frame-Options`
- ‚ùå –ù–µ—Ç `X-Content-Type-Options`
- ‚ùå –ù–µ—Ç `Content-Security-Policy`

**–†–∏—Å–∫:** –£—è–∑–≤–∏–º–æ—Å—Ç—å –∫ XSS, clickjacking, MIME-sniffing.

---

### 5. Network Mode: Host (–Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ)

**–¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
```yaml
backend:
  network_mode: "host"
```

**–ü—Ä–æ–±–ª–µ–º—ã:**
- Backend –∏–º–µ–µ—Ç –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ —Ö–æ—Å—Ç—É
- –ù–µ—Ç –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ—Ç–∏
- –ü–æ—Ä—Ç 8080 –æ—Ç–∫—Ä—ã—Ç –Ω–∞ —Ö–æ—Å—Ç–µ

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –í–µ—Ä–Ω—É—Ç—å –≤ Docker network —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–µ–π.

---

### 6. PayoutRetryService –∏—Å–ø–æ–ª—å–∑—É–µ—Ç DEPRECATED –º–µ—Ç–æ–¥

**–ü—Ä–æ–±–ª–µ–º–∞:**
```go
// payout_retry_service.go:98
err := prs.rewardEngine.sendGSTDToWorker(...)
```

**–ù–æ `sendGSTDToWorker` –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ DEPRECATED:**
```go
// reward_engine.go:123
// sendGSTDToWorker is DEPRECATED - use pull-model instead
func (re *RewardEngine) sendGSTDToWorker(...) {
    // PULL-MODEL: No automatic transfers
    return nil
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:** PayoutRetryService –Ω–µ –º–æ–∂–µ—Ç —Ä–µ–∞–ª—å–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—ã–ø–ª–∞—Ç—É (–º–µ—Ç–æ–¥ –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ—Ç).

---

## ‚úÖ –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢

### 1. TonConnectUI Integration

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç**

- Manifest URL: `https://app.gstdtoken.com/tonconnect-manifest.json` ‚úÖ
- –î–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS ‚úÖ
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤ `_app.tsx` ‚úÖ
- –ñ–µ–ª—Ç–∞—è –∫–Ω–æ–ø–∫–∞ - —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–¥–∏–∑–∞–π–Ω `#FFD700`)

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ (TODO –≤ –∫–æ–¥–µ).

---

### 2. API Endpoints

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞—é—Ç** (–Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é —á–µ—Ä–µ–∑ gateway)

- `/api/v1/tasks` - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- `/api/v1/users/login` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- `/api/v1/tasks/create` - —Ä–∞–±–æ—Ç–∞–µ—Ç
- `/api/v1/device/tasks/:id/result` - —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** Gateway timeout –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ —á–µ—Ä–µ–∑ HTTPS.

---

### 3. PaymentWatcher

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç**

- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π TON API v2 endpoint ‚úÖ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ `X-API-Key` (–±–µ–∑ Bearer) ‚úÖ
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∞–¥—Ä–µ—Å–∞ ‚úÖ
- –ù–µ –≤–∏–¥–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (0 transfers) - –Ω–æ—Ä–º–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π

---

### 4. WebSocket & Redis Pub/Sub

**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç**

- WSHub –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ `gstd_tasks_channel` ‚úÖ
- Redis –∫–∞–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω ‚úÖ
- –†–∞—Å—Å—ã–ª–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–¥–∞—á ‚úÖ

---

## üîç –ê–ù–ê–õ–ò–ó "–°–õ–ï–ü–´–• –ó–û–ù"

### –ó–∞–≥–ª—É—à–∫–∏ –∏ TODO

**–ù–∞–π–¥–µ–Ω–æ:**

1. **routes_user.go:35** - TODO –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ TonConnect
2. **reward_engine.go:126** - `sendGSTDToWorker` DEPRECATED (pull-model)
3. **payout_retry_service.go:98** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DEPRECATED –º–µ—Ç–æ–¥
4. **StatsPanel.tsx:122** - Mock data –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:**
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–≥–ª—É—à–µ–∫ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
- ‚ö†Ô∏è PayoutRetryService –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç DEPRECATED –º–µ—Ç–æ–¥)

---

### PaymentTracker –∏ PayoutRetryService

**PaymentTracker:**
- ‚úÖ –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚ùå –¢–∞–±–ª–∏—Ü—ã `payout_transactions`, `payout_intents` –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- ‚úÖ –õ–æ–≥–∏–∫–∞ reconciliation —Ä–∞–±–æ—Ç–∞–µ—Ç (polling –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø–æ hash, query_id, comment

**PayoutRetryService:**
- ‚úÖ –ö–æ–¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚ùå –¢–∞–±–ª–∏—Ü–∞ `failed_payouts` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç
- ‚ùå –ò—Å–ø–æ–ª—å–∑—É–µ—Ç DEPRECATED `sendGSTDToWorker` (–Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚ö†Ô∏è –ù–µ –º–æ–∂–µ—Ç —Ä–µ–∞–ª—å–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –≤—ã–ø–ª–∞—Ç—É (pull-model)

---

### Webhook/Polling –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

**–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
- ‚úÖ **Polling:** PaymentTracker –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- ‚úÖ **PaymentWatcher:** –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- ‚ùå **Webhook:** –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–Ω–µ—Ç endpoint –¥–ª—è TON API callbacks)

**–í—ã–≤–æ–¥:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è polling, —á—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è MVP, –Ω–æ –Ω–µ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è production.

---

## üìã –°–¢–ê–¢–£–°-–¢–ê–ë–õ–ò–¶–ê –ú–û–î–£–õ–ï–ô

| –ú–æ–¥—É–ª—å | –°—Ç–∞—Ç—É—Å | –ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è |
|--------|--------|-------------|------------|
| **Database** | ‚ùå –°–ª–æ–º–∞–Ω–æ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∏–º—è –ë–î, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç —Ç–∞–±–ª–∏—Ü—ã |
| **Task API** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | üü° –°—Ä–µ–¥–Ω–µ | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ gateway timeout |
| **Task Models** | ‚ö†Ô∏è –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ | üü° –°—Ä–µ–¥–Ω–µ | Go vs TypeScript –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç |
| **TonConnectUI** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | üü¢ –ù–∏–∑–∫–æ | –ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∏ –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ |
| **PaymentWatcher** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | üü¢ –ù–∏–∑–∫–æ | –ù–µ –≤–∏–¥–∏—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (–Ω–æ—Ä–º–∞–ª—å–Ω–æ) |
| **PaymentTracker** | ‚ùå –°–ª–æ–º–∞–Ω–æ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –¢–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç |
| **PayoutRetryService** | ‚ùå –°–ª–æ–º–∞–Ω–æ | üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ | –¢–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç, DEPRECATED –º–µ—Ç–æ–¥ |
| **WebSocket/Redis** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | üü¢ –ù–∏–∑–∫–æ | –í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ |
| **Gateway (Nginx)** | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ | üü° –°—Ä–µ–¥–Ω–µ | Timeout, –Ω–µ—Ç security headers |
| **Network Isolation** | ‚ö†Ô∏è –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ | üü° –°—Ä–µ–¥–Ω–µ | network_mode: host |

---

## üõ†Ô∏è –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô (Mainnet Ready)

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)

#### 1.1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
```bash
# –°–æ–∑–¥–∞—Ç—å –ë–î distributed_computing –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
docker exec ubuntu_postgres_1 psql -U postgres -c "CREATE DATABASE distributed_computing;"

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
./scripts/apply_migrations.sh
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ

---

#### 1.2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–æ–¥–µ–ª–µ–π
- –†–∞—Å—à–∏—Ä–∏—Ç—å TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Task` –≤ `TasksPanel.tsx`
- –ò–ª–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç API (–≤–µ—Ä–Ω—É—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–∞–∂–Ω–æ

---

#### 1.3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å Gateway Timeout
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend –Ω–∞ `127.0.0.1:8080`
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ `gateway.conf` (–≤–æ–∑–º–æ–∂–Ω–æ, –Ω—É–∂–µ–Ω resolver)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–∞–π–º–∞—É—Ç—ã –∏ retry –ª–æ–≥–∏–∫—É

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–Ω–æ

---

### –§–∞–∑–∞ 2: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å (2-3 –¥–Ω—è)

#### 2.1. –î–æ–±–∞–≤–∏—Ç—å Security Headers
```nginx
add_header Strict-Transport-Security "max-age=31536000; includeSubDomains" always;
add_header X-Frame-Options "DENY" always;
add_header X-Content-Type-Options "nosniff" always;
add_header Content-Security-Policy "..." always;
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–∞–∂–Ω–æ

---

#### 2.2. –ò–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å Backend –≤ Docker Network
- –£–±—Ä–∞—Ç—å `network_mode: "host"`
- –°–æ–∑–¥–∞—Ç—å Docker network
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ gateway

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–∞–∂–Ω–æ

---

#### 2.3. –ò—Å–ø—Ä–∞–≤–∏—Ç—å PayoutRetryService
- –£–¥–∞–ª–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ DEPRECATED `sendGSTDToWorker`
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å retry —á–µ—Ä–µ–∑ pull-model (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
- –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å —Å–µ—Ä–≤–∏—Å, –µ—Å–ª–∏ pull-model –Ω–µ —Ç—Ä–µ–±—É–µ—Ç retry

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –í–∞–∂–Ω–æ

---

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (3-5 –¥–Ω–µ–π)

#### 3.1. –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ø–æ–¥–ø–∏—Å–∏ TonConnect –ø—Ä–∏ –ª–æ–≥–∏–Ω–µ
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ–¥–ø–∏—Å–∏ –≤ `routes_user.go`
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å message payload –∏ public key

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

#### 3.2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Webhook –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- –°–æ–∑–¥–∞—Ç—å endpoint –¥–ª—è TON API callbacks
- –ó–∞–º–µ–Ω–∏—Ç—å polling –Ω–∞ event-driven –ø–æ–¥—Ö–æ–¥

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

#### 3.3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prometheus/Grafana
- –î–æ–±–∞–≤–∏—Ç—å structured logging
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ –ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ

---

## üéØ –õ–£–ß–®–ï–ï –†–ï–®–ï–ù–ò–ï –ù–ê –°–ï–ì–û–î–ù–Ø

### –¢–æ–ø-5 —à–∞–≥–æ–≤ –¥–ª—è Mainnet Ready:

1. **üî¥ –ö–†–ò–¢–ò–ß–ù–û: –°–æ–∑–¥–∞—Ç—å –ë–î –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏**
   ```bash
   docker exec ubuntu_postgres_1 psql -U postgres -c "CREATE DATABASE distributed_computing;"
   ./scripts/apply_migrations.sh
   ```

2. **üî¥ –ö–†–ò–¢–ò–ß–ù–û: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Gateway Timeout**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å backend
   - –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
   - –î–æ–±–∞–≤–∏—Ç—å resolver –∏ —Ç–∞–π–º–∞—É—Ç—ã

3. **üü° –í–ê–ñ–ù–û: –†–∞—Å—à–∏—Ä–∏—Ç—å TypeScript –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Task**
   - –î–æ–±–∞–≤–∏—Ç—å –≤—Å–µ –ø–æ–ª—è –∏–∑ Go –º–æ–¥–µ–ª–∏
   - –ò–ª–∏ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å API –æ—Ç–≤–µ—Ç

4. **üü° –í–ê–ñ–ù–û: –î–æ–±–∞–≤–∏—Ç—å Security Headers –≤ gateway.conf**
   - HSTS, X-Frame-Options, CSP
   - –£–ª—É—á—à–∏—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

5. **üü° –í–ê–ñ–ù–û: –ò—Å–ø—Ä–∞–≤–∏—Ç—å PayoutRetryService**
   - –£–¥–∞–ª–∏—Ç—å DEPRECATED –º–µ—Ç–æ–¥
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ pull-model –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—Ü–µ–Ω–∫–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|--------|--------|
| **Database** | 40% | ‚ùå –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã |
| **API & Models** | 75% | ‚ö†Ô∏è –ù–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è |
| **TON Integration** | 85% | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **Payment Systems** | 50% | ‚ùå –¢–∞–±–ª–∏—Ü—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç |
| **Security** | 60% | ‚ö†Ô∏è –ù–µ—Ç headers |
| **Infrastructure** | 70% | ‚ö†Ô∏è Network isolation |
| **WebSocket/Redis** | 100% | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

**–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** **68%**

---

## üöÄ –ó–ê–ö–õ–Æ–ß–ï–ù–ò–ï

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ **–ø–æ—á—Ç–∏ –≥–æ—Ç–æ–≤–∞**, –Ω–æ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã** —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö –∏ gateway –±–ª–æ–∫–∏—Ä—É—é—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É. –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –§–∞–∑—ã 1 –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –±—É–¥–µ—Ç –Ω–∞ **85% –≥–æ—Ç–æ–≤–∞** –∫ Mainnet.

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ë–î –∏ gateway timeout.

---

**–î–∞—Ç–∞:** 11 —è–Ω–≤–∞—Ä—è 2026  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Audit Complete
