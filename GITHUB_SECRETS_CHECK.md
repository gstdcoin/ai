# üîê –ü—Ä–æ–≤–µ—Ä–∫–∞ GitHub Secrets –¥–ª—è CI/CD

## ‚ùó –í–∞–∂–Ω–æ: –°–µ–∫—Ä–µ—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π –æ—à–∏–±–æ–∫ CI/CD!

–ï—Å–ª–∏ CI/CD –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, **–ø–µ—Ä–≤—ã–º –¥–µ–ª–æ–º –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ–∫—Ä–µ—Ç—ã**.

## üìã –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã

–í—Å–µ —ç—Ç–∏ —Å–µ–∫—Ä–µ—Ç—ã **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´** –¥–ª—è —Ä–∞–±–æ—Ç—ã –¥–µ–ø–ª–æ—è:

| –°–µ–∫—Ä–µ—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|--------|----------|----------------|
| `SSH_KEY` | –ü—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á | `-----BEGIN OPENSSH PRIVATE KEY-----...` |
| `SSH_HOST` | IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ | `82.115.48.228` |
| `SSH_USER` | SSH –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | `ubuntu` |
| `SSH_PORT` | SSH –ø–æ—Ä—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) | `22` –∏–ª–∏ –ø—É—Å—Ç–æ |
| `SSH_KNOWN_HOSTS` | SSH fingerprint | `|1|... ssh-ed25519 ...` |

## ‚úÖ –ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://github.com/gstdcoin/ai/settings/secrets/actions
2. –ò–ª–∏: Repository ‚Üí Settings ‚Üí Secrets and variables ‚Üí Actions

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞–∂–¥—ã–π —Å–µ–∫—Ä–µ—Ç

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ 5 —Å–µ–∫—Ä–µ—Ç–æ–≤ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç:
- ‚úÖ SSH_KEY
- ‚úÖ SSH_HOST  
- ‚úÖ SSH_USER
- ‚úÖ SSH_PORT (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)
- ‚úÖ SSH_KNOWN_HOSTS

### –®–∞–≥ 3: –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
./scripts/show-ci-cd-keys.sh
```

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

## üîß –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã

### –ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:

1. –ù–∞–∂–º–∏—Ç–µ **"New repository secret"**
2. –í–≤–µ–¥–∏—Ç–µ –∏–º—è —Å–µ–∫—Ä–µ—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `SSH_KEY`)
3. –í—Å—Ç–∞–≤—å—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ
4. –ù–∞–∂–º–∏—Ç–µ **"Add secret"**

### –ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π:

1. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ–∫—Ä–µ—Ç
2. –ù–∞–∂–º–∏—Ç–µ **"Update"**
3. –í—Å—Ç–∞–≤—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
4. –ù–∞–∂–º–∏—Ç–µ **"Update secret"**

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏

### 1. SSH_KEY –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: –ö–ª—é—á –æ–±—Ä–µ–∑–∞–Ω –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-----BEGIN OPENSSH PRIVATE KEY-----`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è `-----END OPENSSH PRIVATE KEY-----`
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å –±–ª–æ–∫**, –≤–∫–ª—é—á–∞—è BEGIN –∏ END —Å—Ç—Ä–æ–∫–∏
- –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤ –∏–ª–∏ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫

### 2. SSH_KNOWN_HOSTS –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

**–ü—Ä–æ–±–ª–µ–º–∞**: Fingerprint –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–µ—Ä–≤–µ—Ä—É

**–†–µ—à–µ–Ω–∏–µ**:
```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ
ssh-keyscan -H 82.115.48.228

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –≤—ã–≤–æ–¥ –≤ —Å–µ–∫—Ä–µ—Ç SSH_KNOWN_HOSTS
```

### 3. –°–µ–∫—Ä–µ—Ç –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ workflow

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ–∫—Ä–µ—Ç –Ω–µ –≤–∏–¥–µ–Ω –≤ GitHub Actions

**–†–µ—à–µ–Ω–∏–µ**:
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ **Repository secrets**, –∞ –Ω–µ –≤ Environment secrets
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–µ–∫—Ä–µ—Ç–æ–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏–∑ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –≤–µ—Ç–∫–∏

### 4. –°–µ–∫—Ä–µ—Ç—ã –ø—É—Å—Ç—ã–µ

**–ü—Ä–æ–±–ª–µ–º–∞**: –°–µ–∫—Ä–µ—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –ø—É—Å—Ç–æ–π

**–†–µ—à–µ–Ω–∏–µ**:
- –£–¥–∞–ª–∏—Ç–µ —Å–µ–∫—Ä–µ—Ç
- –°–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ–∫—Ä–µ—Ç–æ–≤:

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ workflow –≤—Ä—É—á–Ω—É—é**:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Actions
   - –í—ã–±–µ—Ä–∏—Ç–µ "CI/CD Pipeline"
   - –ù–∞–∂–º–∏—Ç–µ "Run workflow"
   - –í—ã–±–µ—Ä–∏—Ç–µ branch "main"

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —à–∞–≥ "Check SSH secrets"**:
   - –ï—Å–ª–∏ –≤—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —É–≤–∏–¥–∏—Ç–µ: `‚úÖ All SSH secrets are configured`
   - –ï—Å–ª–∏ —Å–µ–∫—Ä–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, —É–≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–∞–∫–æ–≥–æ —Å–µ–∫—Ä–µ—Ç–∞ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —à–∞–≥ "Setup SSH"**:
   - –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –±–µ–∑ –æ—à–∏–±–æ–∫
   - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Permission denied" - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ SSH_KEY

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —à–∞–≥ "Deploy to server"**:
   - –î–æ–ª–∂–µ–Ω –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
   - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ "Host key verification failed" - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ SSH_KNOWN_HOSTS

## üìù –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–ª—é—á–∏
./scripts/show-ci-cd-keys.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é CI/CD
./scripts/check-ci-cd.sh

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–∫—Ä–µ—Ç—ã (–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
./scripts/verify-github-secrets.sh
```

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- GitHub Secrets: https://github.com/gstdcoin/ai/settings/secrets/actions
- GitHub Actions: https://github.com/gstdcoin/ai/actions
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `CI_CD_KEYS_SETUP.md`

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –í—Å–µ 5 —Å–µ–∫—Ä–µ—Ç–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ GitHub
- [ ] SSH_KEY –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç (BEGIN/END)
- [ ] SSH_HOST = 82.115.48.228
- [ ] SSH_USER = ubuntu
- [ ] SSH_KNOWN_HOSTS —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π fingerprint
- [ ] –ü—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ `~/.ssh/authorized_keys` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] Workflow –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ —Å–µ–∫—Ä–µ—Ç–æ–≤

---

**–ï—Å–ª–∏ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤ CI/CD –≤—Å–µ –µ—â–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —à–∞–≥–∞ –≤ GitHub Actions.**
