# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 1: –ü–æ—Ä—Ç 80 –∑–∞–Ω—è—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–º Nginx

**–û—à–∏–±–∫–∞**: `address already in use` –¥–ª—è –ø–æ—Ä—Ç–∞ 80

**–†–µ—à–µ–Ω–∏–µ**:
- –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Å–∏—Å—Ç–µ–º–Ω—ã–π Nginx: `sudo systemctl stop nginx`
- –û—Ç–∫–ª—é—á—ë–Ω –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫: `sudo systemctl disable nginx`
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç: `scripts/fix-nginx-port.sh` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞**:
```bash
sudo ss -tlnp | grep :80
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø—É—Å—Ç–æ
```

## ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 2: –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ backend

**–û—à–∏–±–∫–∞**: `cannot define new methods on non-local type redis.Client`

**–ü—Ä–∏—á–∏–Ω–∞**: –í Go –Ω–µ–ª—å–∑—è –¥–æ–±–∞–≤–ª—è—Ç—å –º–µ—Ç–æ–¥—ã –∫ —Ç–∏–ø–∞–º –∏–∑ –¥—Ä—É–≥–∏—Ö –ø–∞–∫–µ—Ç–æ–≤.

**–†–µ—à–µ–Ω–∏–µ**:
- –ò–∑–º–µ–Ω–µ–Ω—ã –º–µ—Ç–æ–¥—ã `EnqueueTask` –∏ `DequeueTask` –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ `task_service.go`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è**:
```go
// –ë—ã–ª–æ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
func (c *redis.Client) EnqueueTask(...) error

// –°—Ç–∞–ª–æ (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
func EnqueueTask(client *redis.Client, ...) error
```

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

1. `backend/internal/queue/redis.go` - –º–µ—Ç–æ–¥—ã –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ —Ñ—É–Ω–∫—Ü–∏–∏
2. `backend/internal/services/task_service.go` - –æ–±–Ω–æ–≤–ª–µ–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
3. `scripts/fix-nginx-port.sh` - –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø–æ—Ä—Ç–∞ 80

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
# 1. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –ø–æ—Ä—Ç 80 —Å–≤–æ–±–æ–¥–µ–Ω
./scripts/fix-nginx-port.sh

# 2. –ü–æ–ª—É—á–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
./scripts/init-letsencrypt.sh

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
docker-compose up -d --build

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
docker-compose ps
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ backend —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
docker-compose build backend

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ—Ä—Ç 80 —Å–≤–æ–±–æ–¥–µ–Ω
sudo ss -tlnp | grep :80

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs backend
```



