# –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –¥–ª—è Telegram Web App

**–î–∞—Ç–∞:** 2026-01-13  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìã –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è `window.Telegram.WebApp`

**–§–∞–π–ª:** `frontend/src/lib/telegram.ts`

- **–ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è API:** –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `TelegramWebApp` —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —Å–≤–æ–π—Å—Ç–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:**
  - `webApp.ready()` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ Telegram –æ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
  - `webApp.expand()` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
  - `webApp.enableClosingConfirmation()` - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–∏—è
- **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
  - `BackButton` - –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥
  - `MainButton` - –≥–ª–∞–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞
  - `HapticFeedback` - —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
  - `CloudStorage` - –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ

---

### 2. ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è

**–§—É–Ω–∫—Ü–∏—è:** `applyTelegramTheme()`

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –≤—Å–µ —Ü–≤–µ—Ç–∞ –∏–∑ Telegram –∫ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º:

| Telegram –ø–∞—Ä–∞–º–µ—Ç—Ä | CSS –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------------------|----------------|----------|
| `bg_color` | `--tg-theme-bg-color` | –¶–≤–µ—Ç —Ñ–æ–Ω–∞ |
| `text_color` | `--tg-theme-text-color` | –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ |
| `hint_color` | `--tg-theme-hint-color` | –¶–≤–µ—Ç –ø–æ–¥—Å–∫–∞–∑–æ–∫ |
| `link_color` | `--tg-theme-link-color` | –¶–≤–µ—Ç —Å—Å—ã–ª–æ–∫ |
| `button_color` | `--tg-theme-button-color` | –¶–≤–µ—Ç –∫–Ω–æ–ø–æ–∫ |
| `button_text_color` | `--tg-theme-button-text-color` | –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫ |
| `secondary_bg_color` | `--tg-theme-secondary-bg-color` | –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ñ–æ–Ω |
| `header_bg_color` | `--tg-theme-header-bg-color` | –§–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ |
| `section_bg_color` | `--tg-theme-section-bg-color` | –§–æ–Ω —Å–µ–∫—Ü–∏–π |
| `accent_text_color` | `--tg-theme-accent-text-color` | –ê–∫—Ü–µ–Ω—Ç–Ω—ã–π —Ç–µ–∫—Å—Ç |
| `section_header_text_color` | `--tg-theme-section-header-text-color` | –ó–∞–≥–æ–ª–æ–≤–∫–∏ —Å–µ–∫—Ü–∏–π |
| `subtitle_text_color` | `--tg-theme-subtitle-text-color` | –ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∏ |
| `destructive_text_color` | `--tg-theme-destructive-text-color` | –î–µ—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è |

**–ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–º—ã
webApp.onThemeChanged(() => {
  if (webApp.themeParams) {
    applyTelegramTheme(webApp.themeParams);
  }
});
```

---

### 3. ‚úÖ TelegramThemeProvider –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**–§–∞–π–ª:** `frontend/src/components/common/TelegramThemeProvider.tsx`

–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ–º–æ–π:

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
- –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã –∫–æ –≤—Å–µ–º—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `_app.tsx`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```tsx
<TelegramThemeProvider>
  <YourApp />
</TelegramThemeProvider>
```

---

### 4. ‚úÖ –°—Ç–∏–ª–∏ –¥–ª—è Telegram

**–§–∞–π–ª:** `frontend/src/styles/globals.css`

#### –ö–ª–∞—Å—Å `.tg-button`

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ü–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫ –∏–∑ Telegram:

```css
.tg-button {
  background-color: var(--tg-theme-button-color);
  color: var(--tg-theme-button-text-color);
  /* ... */
}
```

#### –ê–¥–∞–ø—Ç–∞—Ü–∏—è body

```css
body {
  background-color: var(--tg-theme-bg-color, fallback);
  color: var(--tg-theme-text-color, fallback);
  transition: background-color 0.3s ease, color 0.3s ease;
}
```

---

## üé® –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```typescript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
const webApp = initTelegramWebApp();

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
// - –†–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
// - –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–µ–º–∞ –∏–∑ Telegram
// - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è viewport
// - –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ç–µ–º—ã

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
applyTelegramTheme(webApp.themeParams);

// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º
webApp.onThemeChanged(() => {
  applyTelegramTheme(webApp.themeParams);
});
```

### 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```tsx
// –ö–Ω–æ–ø–∫–∞ —Å —Ü–≤–µ—Ç–∞–º–∏ Telegram
<button className="tg-button">
  –ù–∞–∂–º–∏ –º–µ–Ω—è
</button>

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
<div style={{
  backgroundColor: 'var(--tg-theme-bg-color)',
  color: 'var(--tg-theme-text-color)'
}}>
  –ö–æ–Ω—Ç–µ–Ω—Ç
</div>
```

---

## üîß API —Ñ—É–Ω–∫—Ü–∏–∏

### `initTelegramWebApp()`
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç Telegram WebApp –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —ç–∫–∑–µ–º–ø–ª—è—Ä.

### `getTelegramWebApp()`
–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä WebApp.

### `applyTelegramTheme(theme: TelegramThemeParams)`
–ü—Ä–∏–º–µ–Ω—è–µ—Ç —Ç–µ–º—É Telegram –∫ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º.

### `onThemeChanged(handler: () => void)`
–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã.

### `getTelegramTheme()`
–ü–æ–ª—É—á–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ–º—ã.

### `getTelegramColorScheme()`
–ü–æ–ª—É—á–∞–µ—Ç —Ü–≤–µ—Ç–æ–≤—É—é —Å—Ö–µ–º—É ('light' | 'dark').

### `isTelegramWebApp()`
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –∑–∞–ø—É—â–µ–Ω–æ –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram.

---

## üì± –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ Telegram

### –¶–≤–µ—Ç–∞ –∫–Ω–æ–ø–æ–∫
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª–∞—Å—Å `.tg-button` –¥–ª—è –∫–Ω–æ–ø–æ–∫
- –¶–≤–µ—Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –ø–æ–¥ —Ç–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –§–æ–Ω –∏ —Ç–µ–∫—Å—Ç
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `--tg-theme-*`
- Fallback –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤–Ω–µ Telegram

### Viewport
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è `--tg-viewport-height`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### 1. –í Telegram:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Telegram
2. –ò–∑–º–µ–Ω–∏—Ç–µ —Ç–µ–º—É –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Telegram
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—å—Å—è

### 2. –í–Ω–µ Telegram:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è fallback –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ CSS
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ

---

## üöÄ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ù–∞—Ç–∏–≤–Ω—ã–π –≤–∏–¥:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —á–∞—Å—Ç—å Telegram
2. **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ —Ç–µ–º–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
3. **UX:** –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –∏ —Ç–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
4. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** –†–∞–±–æ—Ç–∞–µ—Ç –∏ –≤–Ω–µ Telegram —Å fallback –∑–Ω–∞—á–µ–Ω–∏—è–º–∏

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2026-01-13  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
