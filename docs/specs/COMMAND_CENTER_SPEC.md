# GSTD Command Center: Техническая Спецификация

## 1. Обзор
Command Center — это интерфейс взаимодействия пользователя с сетью GSTD через Telegram Mini App (TWA). Он скрывает сложность блокчейна и распределенных вычислений за премиальным UI/UX, предоставляя сервис "под ключ".

## 2. Пользовательский Интерфейс (Telegram Mini App)

### 2.1 Дизайн-код
- **Стиль:** Cyberpunk / High-Tech Industrial.
- **Цвета:** Deep Black (#000000), Toxic Green (#00FF41), Electric Blue (#00F0FF).
- **Анимации:** Glitch-эффекты при смене статусов, плавные лоадеры, тактильная отдача (Haptic Feedback) на мобильных.

### 2.2 Структура экранов
1.  **Главный терминал (Input Deck):**
    - Большое поле ввода с поддержкой голосового набора.
    - Кнопки быстрых шаблонов: "Генерация Изображения", "Анализ Данных", "Текст".
    - Баланс пользователя (GSTD) в углу, с опцией быстрой покупки.

2.  **Центр Операций (Task Monitor):**
    - Список активных задач в виде карточек.
    - **Live-лог действий:** Пользователь видит "мысли" системы (например: "Подбор GPU-узла...", "Проверка качества результата...", "Финализация").

3.  **Просмотр Результата (Output View):**
    - Для изображений: Полноэкранный слайдер с возможностью Upscale.
    - Для текста: Красивый рендер Markdown с подсветкой синтаксиса.
    - Кнопка "Принять работу" (выпускает деньги) или "Отправить на доработку" (диспут).

## 3. Логика Автономного Агента (AI Concierge)

### 3.1 Роль: The Orchestrator
Агент выступает посредником, который защищает деньги пользователя и репутацию платформы.

### 3.2 Процесс обработки ("The Loop")
1.  **Input:** Пользователь вводит запрос.
2.  **Refinement:** Агент анализирует запрос. Если он слишком размыт, Агент задает 1 уточняющий вопрос. Если понят — конвертирует в JSON-структуру задачи.
3.  **Estimation:** Агент предсказывает стоимость (на основе сложности) и выставляет счет.
4.  **Distribution:** Задача уходит в сеть GSTD с тегом `require_validation`.
5.  **Execution:** Воркер выполняет задачу.
6.  **AI Validation (CRITICAL):**
    - Результат воркера не показывается заказчику сразу.
    - Агент (VLM или LLM) сверяет результат с ТЗ.
    - *Критерии:* Соответствие промпту, отсутствие ошибок, формат.
    - *Решение:* PASS (показать юзеру) или FAIL (вернуть воркеру/забанить).

## 4. Смарт-контракт (Escrow)
- **Lock:** При создании задачи средства пользователя списываются на транзитный счет.
- **Release:** Средства переводятся Воркеру только после статуса `VALIDATION_PASSED`.
- **Fee:** 5-15% удерживается платформой в фонд развития (Treasury).

## 5. Технический стек
- **Frontend:** React, Telegram WebApp SDK, Framer Motion (анимации), TailwindCSS.
- **Backend:** Go (API), Python (AI Logic).
- **AI Models:** Llama 3 (Logic), Stable Diffusion XL (Image Gen), Whisper (Voice).

## 6. Пример сценария
**User:** "Нужна иконка для приложения такси, минимализм, желтый цвет."
**AI Concierge:** *Генерирует промпт: "Minimalist app icon, taxi theme, yellow primary color, vector style, flat design, white background"*
**Worker:** *Генерирует 4 варианта.*
**AI Validator:** *Проверяет: "Это желтый? Да. Это минимализм? Да. Есть артефакты? Нет."*
**User:** Получает идеальный результат.
