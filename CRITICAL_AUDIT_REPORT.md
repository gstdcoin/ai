# üîç –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ê–£–î–ò–¢ –ü–õ–ê–¢–§–û–†–ú–´ GSTD
**–î–∞—Ç–∞:** 11 —è–Ω–≤–∞—Ä—è 2026, 20:07 UTC  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è **–ù–ï –ì–û–¢–û–í–û –ö –ü–£–ë–õ–ò–ß–ù–û–ú–£ –†–ï–õ–ò–ó–£**

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê –ì–û–¢–û–í–ù–û–°–¢–ò: **62%**

### –†–∞–∑–±–∏–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º:
- **STATUS CHECK (–†–∞–±–æ—Ç–∞–µ—Ç):** 85%
- **BROKEN (–°–ª–æ–º–∞–Ω–æ):** 35% (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã)
- **SECURITY & INFRA:** 70%
- **RELEASE GAP:** 40% (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)

---

## ‚úÖ STATUS CHECK ‚Äî –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç 100%

### üü¢ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **PostgreSQL** ‚úÖ
   - –°—Ç–∞—Ç—É—Å: `healthy`
   - –ü–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞: `127.0.0.1:5432:5432` ‚úÖ
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
   - **–ù–ï –¢–†–û–ì–ê–¢–¨** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

2. **Redis** ‚úÖ
   - –°—Ç–∞—Ç—É—Å: `Up` (—Ä–∞–±–æ—Ç–∞–µ—Ç)
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
   - **–ù–ï –¢–†–û–ì–ê–¢–¨** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

3. **Frontend (Next.js)** ‚úÖ
   - –°—Ç–∞—Ç—É—Å: `Up`
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
   - Bundle size: 1.6M (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
   - **–ù–ï –¢–†–û–ì–ê–¢–¨** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

4. **Nginx** ‚úÖ
   - –°—Ç–∞—Ç—É—Å: `Up`
   - –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö
   - SSL —Ä–∞–±–æ—Ç–∞–µ—Ç
   - **–ù–ï –¢–†–û–ì–ê–¢–¨** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

5. **Docker Network** ‚úÖ
   - –ï–¥–∏–Ω–∞—è —Å–µ—Ç—å `gstd-network` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
   - –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã
   - **–ù–ï –¢–†–û–ì–ê–¢–¨** ‚Äî —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ

---

## ‚ùå BROKEN ‚Äî –ß—Ç–æ —Å–ª–æ–º–∞–Ω–æ —Å–µ–π—á–∞—Å

### üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´:

#### 1. **Backend Health Check –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500** ‚ùå
**–õ–æ–∫–∞—Ü–∏—è:** `docker-compose.yml:60`, `backend/internal/api/routes.go:116`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
Health check: GET /api/v1/admin/health ‚Üí 500 Internal Server Error
Status: unhealthy (FailingStreak: 6)
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Health check –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `/api/v1/admin/health`, –Ω–æ —ç—Ç–æ—Ç endpoint —Ç—Ä–µ–±—É–µ—Ç –∞–¥–º–∏–Ω-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –û–±—ã—á–Ω—ã–π `/api/v1/health` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 (–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ nginx –∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—É—Ç—å)

**–§–∞–π–ª—ã:**
- `docker-compose.yml:60` ‚Äî health check –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/v1/admin/health`
- `backend/internal/api/routes.go:116` ‚Äî `/api/v1/health` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- `backend/internal/api/routes_admin.go` ‚Äî `/api/v1/admin/health` —Ç—Ä–µ–±—É–µ—Ç `RequireAdminWallet`

**–†–µ—à–µ–Ω–∏–µ:**
```yaml
# docker-compose.yml
healthcheck:
  test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:8080/api/v1/health"]
  # –ò–∑–º–µ–Ω–∏—Ç—å —Å /api/v1/admin/health –Ω–∞ /api/v1/health
```

---

#### 2. **API Endpoints –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 404** ‚ùå
**–õ–æ–∫–∞—Ü–∏—è:** `nginx/conf.d/app.gstdtoken.com.conf`, `backend/internal/api/routes.go`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
curl http://localhost:8080/api/v1/health ‚Üí 404 Not Found
curl https://app.gstdtoken.com/api/v1/health ‚Üí 404 Not Found
curl http://localhost:8080/api/v1/version ‚Üí 404 Not Found
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- Nginx –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç `/api/v1/health` –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ò–ª–∏ backend –Ω–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –ø—É—Ç—å

**–§–∞–π–ª—ã:**
- `nginx/conf.d/app.gstdtoken.com.conf:34` ‚Äî `/api/` –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–±–ª–µ–º–∞
- `backend/internal/api/routes.go:116` ‚Äî endpoint –æ–ø—Ä–µ–¥–µ–ª–µ–Ω, –Ω–æ –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è `/api/v1/health`
- –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ backend —Å–ª—É—à–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—Ç—É

---

#### 3. **Database Schema Error: executor_reward_ton –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** ‚ùå
**–õ–æ–∫–∞—Ü–∏—è:** `backend/internal/api/routes_stats.go`, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
curl http://localhost:8080/api/v1/stats
‚Üí {"error":"pq: column \"executor_reward_ton\" does not exist"}
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∏–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é
- –ö–æ–ª–æ–Ω–∫–∞ `executor_reward_ton` –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ `tasks`

**–§–∞–π–ª—ã:**
- `backend/internal/api/routes_stats.go` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∫–æ–ª–æ–Ω–∫—É
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤ `backend/migrations/` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏:
   ```sql
   SELECT * FROM schema_migrations;
   ```
2. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏
3. –ò–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ `routes_stats.go` –Ω–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–ª–æ–Ω–∫–∏

---

#### 4. **TON API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 –ø–æ—Å—Ç–æ—è–Ω–Ω–æ** ‚ùå
**–õ–æ–∫–∞—Ü–∏—è:** `backend/internal/services/payment_watcher.go:144-171`

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
PaymentWatcher: Error fetching transfers: TON API endpoint not found (404) - may be temporary: 404 page not found
```

**–ß–∞—Å—Ç–æ—Ç–∞:** –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥

**–ü—Ä–∏—á–∏–Ω–∞:**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint URL –¥–ª—è TonAPI
- –ò–ª–∏ –Ω–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∑–∞–ø—Ä–æ—Å–∞
- –ò–ª–∏ TON_API_KEY –Ω–µ–≤–µ—Ä–Ω—ã–π (—Ö–æ—Ç—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)

**–§–∞–π–ª—ã:**
- `backend/internal/services/payment_watcher.go:144` ‚Äî URL —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∫–∞–∫:
  ```go
  url := fmt.Sprintf("%s/v2/jettons/%s/transfers?account=%s&limit=100", 
      pw.tonService.apiURL, pw.jettonAddress, pw.platformWallet)
  ```
- –í–æ–∑–º–æ–∂–Ω–æ endpoint `/v2/jettons/{address}/transfers` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Ç—Ä–µ–±—É–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π API endpoint –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ TonAPI
2. –î–æ–±–∞–≤–∏—Ç—å retry logic —Å exponential backoff
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π API (toncenter.com) –∫–∞–∫ fallback

---

#### 5. **TON API Key Validation Failed** ‚ö†Ô∏è
**–õ–æ–∫–∞—Ü–∏—è:** –¢–µ—Å—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ TonAPI

**–ü—Ä–æ–±–ª–µ–º–∞:**
```bash
curl -H "Authorization: Bearer {KEY}" https://tonapi.io/v2/status
‚Üí {"error":"illegal base32 data at input byte 2"}
```

**–ü—Ä–∏—á–∏–Ω–∞:**
- TON_API_KEY –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–º —Ñ–æ—Ä–º–∞—Ç–æ–º
- –ò–ª–∏ endpoint `/v2/status` —Ç—Ä–µ–±—É–µ—Ç –¥—Ä—É–≥–æ–π —Ñ–æ—Ä–º–∞—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç API –∫–ª—é—á–∞ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ TonAPI
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

---

### üü° –°–†–ï–î–ù–ò–ï –ü–†–û–ë–õ–ï–ú–´:

#### 6. **Backend -> Database Connection** ‚ö†Ô∏è
**–°—Ç–∞—Ç—É—Å:** –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏

**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ù–æ —Å—Ö–µ–º–∞ –ë–î –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –∫–æ–ª–æ–Ω–∫–∏)

---

## üîí SECURITY & INFRA ‚Äî –ß—Ç–æ –æ–ø–∞—Å–Ω–æ

### ‚úÖ –•–æ—Ä–æ—à–æ:

1. **PostgreSQL –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç** ‚úÖ
   - `127.0.0.1:5432:5432` ‚Äî —Ç–æ–ª—å–∫–æ localhost
   - –í–Ω–µ—à–Ω–∏–π –¥–æ—Å—Ç—É–ø –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω

2. **–§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** ‚úÖ
   - `docker-compose.yml`: `-rw-rw-r--` (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
   - `.env`: `-rw-rw-r--` (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)

3. **Docker Health Checks** ‚ö†Ô∏è
   - –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã, –Ω–æ **–Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ**
   - Backend –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `unhealthy`, —Ö–æ—Ç—è —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è:

1. **Health Check Endpoint** ‚ö†Ô∏è
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `/api/v1/admin/health` (—Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é)
   - –î–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π `/api/v1/health`

2. **–û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã:**
   - `0.0.0.0:8080` ‚Äî Backend (–Ω–æ—Ä–º–∞–ª—å–Ω–æ –¥–ª—è API)
   - `0.0.0.0:3000` ‚Äî Frontend (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
   - `0.0.0.0:80,443` ‚Äî Nginx (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
   - `127.0.0.1:5432` ‚Äî PostgreSQL (‚úÖ –∑–∞–∫—Ä—ã—Ç)

---

## üöÄ RELEASE GAP ‚Äî –ß–µ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–æ 100%

### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç:

#### 1. **–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** ‚ùå
**–°—Ç–∞—Ç—É—Å:** –ù–ï –ù–ê–°–¢–†–û–ï–ù–ê

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- Prometheus –¥–ª—è –º–µ—Ç—Ä–∏–∫
- Grafana –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
- –ê–ª–µ—Ä—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- Endpoint `/api/v1/metrics` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ—Ç —Å–±–æ—Ä–∞ –º–µ—Ç—Ä–∏–∫
- –ù–µ—Ç –¥–∞—à–±–æ—Ä–¥–æ–≤
- –ù–µ—Ç –∞–ª–µ—Ä—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –í—ã—Å–æ–∫–∏–π

---

#### 2. **–†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤** ‚ùå
**–°—Ç–∞—Ç—É—Å:** –ù–ï –ù–ê–°–¢–†–û–ï–ù–ê

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- Logrotate –¥–ª—è Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (ELK, Loki)
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ª–æ–≥–æ–≤

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –õ–æ–≥–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
- –ù–µ—Ç —Ä–æ—Ç–∞—Ü–∏–∏
- –ù–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π

---

#### 3. **–ë—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚ùå
**–°—Ç–∞—Ç—É—Å:** –ù–ï –ù–ê–°–¢–†–û–ï–ù–´

**–ß—Ç–æ –Ω—É–∂–Ω–æ:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã PostgreSQL
- –•—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤ (S3, –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- –ü–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/home/ubuntu/backups/` –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ù–µ—Ç —Å–∫—Ä–∏–ø—Ç–æ–≤ –±—ç–∫–∞–ø–∞
- –ù–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π

---

#### 4. **Retry Logic –¥–ª—è TON API** ‚ö†Ô∏è
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

**–ß—Ç–æ –µ—Å—Ç—å:**
- –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `payment_watcher.go:160-171`
- –ù–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ 404

**–ß–µ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:**
- Exponential backoff
- Circuit breaker
- Fallback –Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π API

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° –°—Ä–µ–¥–Ω–∏–π

---

#### 5. **–ò–Ω–¥–µ–∫—Å—ã –≤ PostgreSQL** ‚úÖ
**–°—Ç–∞—Ç—É—Å:** –ù–ê–°–¢–†–û–ï–ù–´

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- –ú–∏–≥—Ä–∞—Ü–∏–∏ `v15_payout_tracking.sql`, `v18_performance_indexes.sql` —Å–æ–¥–µ—Ä–∂–∞—Ç –∏–Ω–¥–µ–∫—Å—ã
- –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è `tasks` –∏ `payout_intents` –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

---

#### 6. **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å Frontend –∫ –Ω–∞–≥—Ä—É–∑–∫–µ** ‚ö†Ô∏è
**–°—Ç–∞—Ç—É—Å:** –ß–∞—Å—Ç–∏—á–Ω–æ –≥–æ—Ç–æ–≤

**–ß—Ç–æ –µ—Å—Ç—å:**
- Next.js production build
- Bundle size: 1.6M (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
- Static optimization

**–ß–µ–≥–æ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç:**
- CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ Nginx
- Rate limiting –¥–ª—è API (–µ—Å—Ç—å, –Ω–æ –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å)

---

## üìã –î–ï–¢–ê–õ–¨–ù–´–ô –°–ü–ò–°–û–ö –ü–†–û–ë–õ–ï–ú

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–±–ª–æ–∫–∏—Ä—É—é—Ç —Ä–µ–ª–∏–∑):

1. ‚ùå **Backend Health Check 500** ‚Äî `docker-compose.yml:60`
2. ‚ùå **API Endpoints 404** ‚Äî `nginx/conf.d/app.gstdtoken.com.conf`, `backend/internal/api/routes.go`
3. ‚ùå **Database Schema Error** ‚Äî `backend/internal/api/routes_stats.go`, –º–∏–≥—Ä–∞—Ü–∏–∏
4. ‚ùå **TON API 404** ‚Äî `backend/internal/services/payment_watcher.go:144`
5. ‚ùå **–ù–µ—Ç –±—ç–∫–∞–ø–æ–≤ –ë–î** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

6. ‚ö†Ô∏è **–ù–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞** ‚Äî Prometheus/Grafana
7. ‚ö†Ô∏è **Health Check –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π endpoint** ‚Äî —Ç—Ä–µ–±—É–µ—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

8. ‚ö†Ô∏è **–ù–µ—Ç —Ä–æ—Ç–∞—Ü–∏–∏ –ª–æ–≥–æ–≤**
9. ‚ö†Ô∏è **Retry logic –¥–ª—è TON API** ‚Äî —É–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫
10. ‚ö†Ô∏è **TON API Key validation** ‚Äî –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç

---

## üõ† –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ò–°–ü–†–ê–í–õ–ï–ù–ò–Æ

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ (–ø–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º):

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å Health Check:**
   ```yaml
   # docker-compose.yml
   healthcheck:
     test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:8080/api/v1/health"]
   ```

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å Database Schema:**
   - –ü—Ä–∏–º–µ–Ω–∏—Ç—å –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏
   - –ò–ª–∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –≤ `routes_stats.go`

3. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å TON API Endpoint:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–π endpoint –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
   - –î–æ–±–∞–≤–∏—Ç—å fallback –Ω–∞ toncenter.com

4. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–∞–ø—ã:**
   ```bash
   # –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –±—ç–∫–∞–ø–æ–≤
   # –ù–∞—Å—Ç—Ä–æ–∏—Ç—å cron job
   ```

### –ù–∞ —ç—Ç–æ–π –Ω–µ–¥–µ–ª–µ:

5. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Prometheus
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Grafana –¥–∞—à–±–æ—Ä–¥—ã
   - –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã

6. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤:**
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å logrotate
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker logging driver

### –í —Å–ª–µ–¥—É—é—â–µ–º —Å–ø—Ä–∏–Ω—Ç–µ:

7. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫:**
   - –î–æ–±–∞–≤–∏—Ç—å exponential backoff –¥–ª—è TON API
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å circuit breaker
   - –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

## üìä –¢–ê–ë–õ–ò–¶–ê –ì–û–¢–û–í–ù–û–°–¢–ò –ö–û–ú–ü–û–ù–ï–ù–¢–û–í

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-----------|--------|------------|------------|
| PostgreSQL | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 100% | –°—Ç–∞–±–∏–ª–µ–Ω, –ø–æ—Ä—Ç –∑–∞–∫—Ä—ã—Ç |
| Redis | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 100% | –°—Ç–∞–±–∏–ª–µ–Ω |
| Frontend | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 90% | –ì–æ—Ç–æ–≤, –Ω–æ –Ω–µ—Ç CDN |
| Nginx | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | 95% | –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ health endpoint –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç—Å—è |
| Backend | ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç —Å –æ—à–∏–±–∫–∞–º–∏ | 60% | Health check –ø–∞–¥–∞–µ—Ç, TON API 404 |
| TON API Integration | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | 30% | –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ 404 –æ—à–∏–±–∫–∏ |
| Database Schema | ‚ö†Ô∏è –ù–µ–ø–æ–ª–Ω–∞—è | 70% | –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã |
| –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | 0% | –ù–µ—Ç Prometheus/Grafana |
| –ë—ç–∫–∞–ø—ã | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç | 0% | –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è production |
| –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ | ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç | 0% | –õ–æ–≥–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è |

---

## üéØ –ü–õ–ê–ù –î–ï–ô–°–¢–í–ò–ô –î–û –†–ï–õ–ò–ó–ê

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (1-2 –¥–Ω—è)
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å health check endpoint
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å TON API endpoint
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–µ –±—ç–∫–∞–ø—ã

### –§–∞–∑–∞ 2: –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è (3-5 –¥–Ω–µ–π)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (Prometheus + Grafana)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–æ—Ç–∞—Ü–∏—é –ª–æ–≥–æ–≤
- [ ] –£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ TON API
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1 –Ω–µ–¥–µ–ª—è)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CDN –¥–ª—è Frontend
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤

---

## üìà –ú–ï–¢–†–ò–ö–ò –î–õ–Ø –ú–û–ù–ò–¢–û–†–ò–ù–ì–ê

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å:

1. **Backend:**
   - Response time –¥–ª—è API endpoints
   - Error rate (401, 404, 500)
   - Database connection pool
   - TON API success rate

2. **Database:**
   - Connection count
   - Query performance
   - Disk usage
   - Replication lag (–µ—Å–ª–∏ –µ—Å—Ç—å)

3. **Frontend:**
   - Page load time
   - Bundle size
   - Error rate –≤ –±—Ä–∞—É–∑–µ—Ä–µ

4. **Infrastructure:**
   - CPU/Memory usage
   - Disk I/O
   - Network traffic

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–ï–†–ï–î –†–ï–õ–ò–ó–û–ú

- [ ] –í—Å–µ health checks –ø—Ä–æ—Ö–æ–¥—è—Ç
- [ ] –í—Å–µ API endpoints —Ä–∞–±–æ—Ç–∞—é—Ç
- [ ] Database schema —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –∫–æ–¥—É
- [ ] TON API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ë—ç–∫–∞–ø—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- [ ] –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- [ ] –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–æ
- [ ] –ü–ª–∞–Ω –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≥–æ—Ç–æ–≤

**–¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:** 3/10 ‚úÖ

---

## üéØ –ò–¢–û–ì–û–í–ê–Ø –û–¶–ï–ù–ö–ê: **62%**

**–í—ã–≤–æ–¥:** –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ **–ù–ï –ì–û–¢–û–í–ê** –∫ –ø—É–±–ª–∏—á–Ω–æ–º—É —Ä–µ–ª–∏–∑—É. –¢—Ä–µ–±—É–µ—Ç—Å—è –º–∏–Ω–∏–º—É–º 1-2 –Ω–µ–¥–µ–ª–∏ —Ä–∞–±–æ—Ç—ã –¥–ª—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û—Ç–ª–æ–∂–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π —Ä–µ–ª–∏–∑ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –§–∞–∑—ã 1 –∏ –§–∞–∑—ã 2.

---

**–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω:** 11 —è–Ω–≤–∞—Ä—è 2026, 20:07 UTC  
**–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:** 10  
**–ù–∞–π–¥–µ–Ω–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º:** 5  
**–ù–∞–π–¥–µ–Ω–æ —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º:** 5
