# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ TON API

## ‚úÖ TON API –∫–ª—é—á –Ω–∞—Å—Ç—Ä–æ–µ–Ω

- **API Key**: `6512ff28fd1ffc8e29b7230642e690b410f7c68e15ef74c4e81e17e9f7a65de6`
- **–õ–∏–º–∏—Ç**: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **Rate Limiting**: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ TONService

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–§–∞–π–ª `.env` —Å–æ–¥–µ—Ä–∂–∏—Ç:
```bash
TON_API_URL=https://tonapi.io
TON_API_KEY=6512ff28fd1ffc8e29b7230642e690b410f7c68e15ef74c4e81e17e9f7a65de6
TON_NETWORK=testnet
GSTD_JETTON_ADDRESS=
TON_CONTRACT_ADDRESS=
```

### Docker Compose

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `docker-compose.yml`:
- `TON_API_URL` - URL TON API
- `TON_API_KEY` - API –∫–ª—é—á
- `TON_NETWORK` - —Å–µ—Ç—å (testnet/mainnet)
- `GSTD_JETTON_ADDRESS` - –∞–¥—Ä–µ—Å GSTD Jetton –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
- `TON_CONTRACT_ADDRESS` - –∞–¥—Ä–µ—Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

## üöÄ Rate Limiting

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π rate limiting:
- **–õ–∏–º–∏—Ç**: 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- **–ú–µ—Ö–∞–Ω–∏–∑–º**: Token bucket —Å –∫–∞–Ω–∞–ª–æ–º
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–±–ª—é–¥–µ–Ω–∏–µ**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∫ TON API –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. –°–æ–∑–¥–∞—ë—Ç—Å—è –∫–∞–Ω–∞–ª-–±—É—Ñ–µ—Ä –Ω–∞ 10 —Ç–æ–∫–µ–Ω–æ–≤
2. –ö–∞–∂–¥—ã–µ 100ms –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
3. –ü–µ—Ä–µ–¥ –∑–∞–ø—Ä–æ—Å–æ–º –∫ API –æ–∂–∏–¥–∞–µ—Ç—Å—è —Ç–æ–∫–µ–Ω
4. –ï—Å–ª–∏ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–µ—Ç - –∑–∞–ø—Ä–æ—Å –∂–¥—ë—Ç

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ GSTD –±–∞–ª–∞–Ω—Å–∞

```bash
curl "https://app.gstdtoken.com/api/v1/wallet/gstd-balance?address=EQD..."
```

### –í –∫–æ–¥–µ

```go
tonService := services.NewTONService(apiURL, apiKey)
balance, err := tonService.GetJettonBalance(ctx, address, jettonAddress)
```

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ backend:**
   ```bash
   docker-compose logs backend | grep -i "ton\|api"
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å API:**
   ```bash
   curl "https://app.gstdtoken.com/api/v1/wallet/gstd-balance?address=EQD..."
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å rate limiting:**
   - –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—é—Ç—Å—è
   - –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- **–ù–µ –ø—Ä–µ–≤—ã—à–∞–π—Ç–µ –ª–∏–º–∏—Ç**: Rate limiting –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, –Ω–æ –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–Ω–∏ –±—É–¥—É—Ç –∂–¥–∞—Ç—å
- **API Key –≤ .env**: –ö–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `.env` —Ñ–∞–π–ª–µ (–Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å –≤ git!)
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞**: –ò–∑–º–µ–Ω–∏—Ç–µ `TON_API_KEY` –≤ `.env` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- TON API: https://tonapi.io/docs
- Rate Limiting: –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `backend/internal/services/ton_service.go`

