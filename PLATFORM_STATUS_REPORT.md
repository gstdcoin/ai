# üìä –û—Ç—á–µ—Ç –æ —Å—Ç–∞—Ç—É—Å–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã GSTD DePIN

**–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2026-01-13  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production

---

## üéØ –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å

### ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –î–µ—Ç–∞–ª–∏ |
|-----------|--------|--------|
| **Gateway (Nginx)** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | –ü–æ—Ä—Ç 80/443, SSL –Ω–∞—Å—Ç—Ä–æ–µ–Ω |
| **Frontend** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Healthy, –ø–æ—Ä—Ç 3000 |
| **PostgreSQL** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Healthy, –ø–æ—Ä—Ç 5432 |
| **Redis** | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç | Healthy, –ø–æ—Ä—Ç 6379 |
| **Backend** | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω, –Ω–æ –∫–æ–¥ –≥–æ—Ç–æ–≤ |

---

## üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω —Ö–∞—Ä–¥–∫–æ–¥ localhost –≤ frontend

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ `http://localhost:8080` –Ω–∞–ø—Ä—è–º—É—é –≤–º–µ—Å—Ç–æ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ `config.ts`.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ `StatsPanel.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`
- ‚úÖ `stats.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`
- ‚úÖ `SystemStatusWidget.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`
- ‚úÖ `TreasuryWidget.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`
- ‚úÖ `PoolStatusWidget.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`
- ‚úÖ `WorkerTaskCard.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`
- ‚úÖ `CreateTaskModal.tsx` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `API_BASE_URL`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `config.ts`.

---

### 2. ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –∏–º–µ–Ω–∞ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ nginx/gateway.conf

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –æ–±—â–∏–µ –∏–º–µ–Ω–∞ `frontend` –∏ `backend` –≤–º–µ—Å—Ç–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∏–º–µ–Ω –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ `proxy_pass http://gstd_frontend:3000` (–±—ã–ª–æ `frontend:3000`)
- ‚úÖ `proxy_pass http://gstd_backend:8080` (–±—ã–ª–æ `backend:8080`)

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Nginx –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –Ω—É–∂–Ω—ã–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º.

---

### 3. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω docker-compose.yml

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ Frontend —Ç–µ–ø–µ—Ä—å –∑–∞–≤–∏—Å–∏—Ç –æ—Ç `gstd_backend` —Å —É—Å–ª–æ–≤–∏–µ–º `service_healthy`
- ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —è–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å–µ—Ç—å `gstd_network`

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

### Backend

#### ‚úÖ Panic Recovery
- **–§–∞–π–ª:** `backend/main.go` - `recoveryMiddleware()`
- **–§—É–Ω–∫—Ü–∏—è:** –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –ø–∞–Ω–∏–∫–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 500 –≤–º–µ—Å—Ç–æ –∫—Ä–∞—à–∞ —Å–µ—Ä–≤–µ—Ä–∞
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü–æ–ª–Ω—ã–π stack trace –≤ –ª–æ–≥–∞—Ö

#### ‚úÖ Error Handler Middleware
- **–§–∞–π–ª:** `backend/internal/api/middleware_security.go`
- **–§—É–Ω–∫—Ü–∏—è:** `ErrorHandler()` - —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ –æ—à–∏–±–∫–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –∫–ª–∏–µ–Ω—Ç—É
- **–ó–∞—â–∏—Ç–∞:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

#### ‚úÖ Session Validation
- **–§–∞–π–ª:** `backend/internal/api/middleware_session.go`
- **–§—É–Ω–∫—Ü–∏—è:** `ValidateSession()` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–µ—Å—Å–∏—é —á–µ—Ä–µ–∑ Redis
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:** –í—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (–∫—Ä–æ–º–µ `/health`, `/login`, `/stats/public`)

#### ‚úÖ Input Validation
- **–§–∞–π–ª:** `backend/internal/api/middleware_validation.go`
- **–§—É–Ω–∫—Ü–∏–∏:**
  - `ValidateDeviceRequest()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤
  - `ValidateTaskRequest()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞—á
  - `ValidateResultSubmission()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### Frontend

#### ‚úÖ Error Boundary
- **–§–∞–π–ª:** `frontend/src/components/common/ErrorBoundary.tsx`
- **–§—É–Ω–∫—Ü–∏—è:** –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –û–±–µ—Ä–Ω—É—Ç –≤–æ–∫—Ä—É–≥ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ `_app.tsx`
- **UX:** –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤–º–µ—Å—Ç–æ –±–µ–ª–æ–≥–æ —ç–∫—Ä–∞–Ω–∞

#### ‚úÖ API Error Handling
- **–§–∞–π–ª:** `frontend/src/lib/apiClient.ts`
- **–§—É–Ω–∫—Ü–∏–∏:**
  - `fetchWithRetry()` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
  - `ApiError` –∫–ª–∞—Å—Å - —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
  - Retry logic –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ (408, 429, 500, 502, 503, 504)

#### ‚úÖ Try-Catch –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –æ–±–µ—Ä–Ω—É—Ç—ã –≤ try-catch
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `logger`
- Graceful degradation –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API

---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

### ‚úÖ Telegram Web App
- **–°—Ç–∞—Ç—É—Å:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- **–§–∞–π–ª—ã:**
  - `frontend/src/lib/telegram.ts` - –ø–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è API
  - `frontend/src/components/common/TelegramThemeProvider.tsx` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
  - –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Ç–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è
  - –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–µ–º—ã
  - Haptic feedback

### ‚úÖ TON Connect
- **–°—Ç–∞—Ç—É—Å:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** `TonConnectValidator` –≤ backend
- **Frontend:** `@tonconnect/ui-react` —Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π

### ‚úÖ Swagger UI
- **–°—Ç–∞—Ç—É—Å:** –ù–∞—Å—Ç—Ä–æ–µ–Ω
- **–î–æ—Å—Ç—É–ø:** `/api/v1/swagger`
- **–ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏:** –î–æ–±–∞–≤–ª–µ–Ω—ã –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:** –°–∫—Ä–∏–ø—Ç `generate-swagger.sh` –∏ Makefile

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ Docker Log Rotation
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:** –î–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
  - `max-size: 10m`
  - `max-file: 3`
  - `compress: true`

### ‚úÖ Health Checks
- **PostgreSQL:** `pg_isready` –∫–∞–∂–¥—ã–µ 10s
- **Redis:** `redis-cli ping` –∫–∞–∂–¥—ã–µ 10s
- **Backend:** HTTP health check –∫–∞–∂–¥—ã–µ 30s
- **Frontend:** HTTP health check –∫–∞–∂–¥—ã–µ 30s

### ‚úÖ Error Logging
- **Backend:** `ErrorLogger` —Å–µ—Ä–≤–∏—Å
- **Frontend:** `logger` utility —Å —É—Ä–æ–≤–Ω—è–º–∏ (debug, info, warn, error)

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:** 23+ –º–∏–≥—Ä–∞—Ü–∏–∏
- **–ü–æ—Å–ª–µ–¥–Ω—è—è:** `v23_payout_history.sql` (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π)
- **–°—Ç–∞—Ç—É—Å:** –í—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã

### ‚úÖ Backup —Å–∏—Å—Ç–µ–º–∞
- **–°–∫—Ä–∏–ø—Ç:** `scripts/backup.sh`
- **–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤ (cron)
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** `/home/ubuntu/backups`
- **–†–µ—Ç–µ–Ω—à–Ω:** 14 –¥–Ω–µ–π

### ‚úÖ –¢–∞–±–ª–∏—Ü—ã
- `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `tasks` - –∑–∞–¥–∞—á–∏
- `devices` - —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- `nodes` - –Ω–æ–¥—ã (—Å `trust_score` –∏ `country`)
- `payout_transactions` - —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –≤—ã–ø–ª–∞—Ç
- `payout_history` - –∏—Å—Ç–æ—Ä–∏—è —É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
- `payout_intents` - –Ω–∞–º–µ—Ä–µ–Ω–∏—è –≤—ã–ø–ª–∞—Ç
- `failed_payouts` - –Ω–µ—É–¥–∞—á–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã
- –ò –¥—Ä—É–≥–∏–µ...

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ—Ü–µ—Å—Å—ã

### ‚úÖ PaymentTracker
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –ö–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- **–§—É–Ω–∫—Ü–∏–∏:**
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å—à–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (24 —á–∞—Å–∞)
  - –í–æ–∑–≤—Ä–∞—Ç –±–∞–ª–∞–Ω—Å–∞ –ø—Ä–∏ –∑–∞–≤–∏—Å–∞–Ω–∏–∏
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≤ `payout_history`

### ‚úÖ Timeout Service
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- **–§—É–Ω–∫—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏ –æ—Ç–º–µ–Ω–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

### ‚úÖ Payment Watcher
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- **–§—É–Ω–∫—Ü–∏—è:** –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–ª–∞—Ç–µ–∂–µ–π –≤ –±–ª–æ–∫—á–µ–π–Ω–µ

### ‚úÖ Payout Retry Service
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª:** –ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç
- **–§—É–Ω–∫—Ü–∏—è:** –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –≤—ã–ø–ª–∞—Ç

---

## üåê –°–µ—Ç—å –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### ‚úÖ Docker Network
- **–ù–∞–∑–≤–∞–Ω–∏–µ:** `gstd_network`
- **–¢–∏–ø:** `bridge`
- **–°—Ç–∞—Ç—É—Å:** –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø–æ–¥–∫–ª—é—á–µ–Ω—ã

### ‚úÖ Nginx Gateway
- **HTTP ‚Üí HTTPS:** –†–µ–¥–∏—Ä–µ–∫—Ç —Å –ø–æ—Ä—Ç–∞ 80 –Ω–∞ 443
- **SSL:** Let's Encrypt —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- **–ü—Ä–æ–∫—Å–∏:**
  - `/` ‚Üí `gstd_frontend:3000`
  - `/api/` ‚Üí `gstd_backend:8080`
- **–¢–∞–π–º–∞—É—Ç—ã:** 60 —Å–µ–∫—É–Ω–¥ –¥–ª—è API

### ‚úÖ Resource Limits
- **PostgreSQL:** 2 CPU, 4GB RAM
- **Redis:** 1 CPU, 1GB RAM
- **Backend:** 2 CPU, 2GB RAM
- **Frontend:** 1 CPU, 1GB RAM
- **Gateway:** 0.5 CPU, 256MB RAM

---

## üì± Frontend Features

### ‚úÖ PWA Support
- **–ú–∞–Ω–∏—Ñ–µ—Å—Ç:** `public/manifest.json`
- **Service Worker:** `public/sw.js`
- **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤ `_app.tsx`

### ‚úÖ Telegram Integration
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è
- **–¢–µ–º–∞:**** –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è
- **Haptic Feedback:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∞–∫—Ç–∏–ª—å–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

### ‚úÖ Error Boundaries
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `ErrorBoundary.tsx`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –û–±–µ—Ä–Ω—É—Ç –≤–æ–∫—Ä—É–≥ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **UX:** –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

### ‚úÖ API Client
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—è:** `apiClient.ts` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `config.ts`
- **Retry Logic:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã
- **Session Token:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∏–∑ localStorage

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### ‚úÖ Session Management
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** Redis
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** Middleware –¥–ª—è –≤—Å–µ—Ö –∑–∞—â–∏—â–µ–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- **–¢–æ–∫–µ–Ω:** –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `X-Session-Token` header

### ‚úÖ Input Sanitization
- **–§—É–Ω–∫—Ü–∏—è:** `SanitizeError()` –≤ middleware
- **–ó–∞—â–∏—Ç–∞:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —É—Ç–µ—á–∫—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### ‚úÖ CORS
- **–ù–∞—Å—Ç—Ä–æ–µ–Ω–æ:** –í `backend/main.go`
- **–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã:** Production –¥–æ–º–µ–Ω—ã + localhost –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Headers:** `X-Session-Token` —Ä–∞–∑—Ä–µ—à–µ–Ω

### ‚úÖ SSL/TLS
- **–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã:** Let's Encrypt
- **–ü—Ä–æ—Ç–æ–∫–æ–ª—ã:** TLSv1.2, TLSv1.3
- **–†–µ–¥–∏—Ä–µ–∫—Ç:** HTTP ‚Üí HTTPS

---

## ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è

### 1. Backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω

**–°—Ç–∞—Ç—É—Å:** –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä `gstd_backend` –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω (Exited 2)

**–†–µ—à–µ–Ω–∏–µ:**
```bash
docker-compose up -d backend
# –∏–ª–∏
docker-compose restart backend
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í–æ–∑–º–æ–∂–Ω–æ, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

---

### 2. Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏

**–°—Ç–∞—Ç—É—Å:** –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã, –Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–∞

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd backend
make swagger-install  # –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å swag CLI
make swagger          # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
docker-compose build backend
docker-compose restart backend
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### Backend

- ‚úÖ Panic recovery middleware
- ‚úÖ Error handler middleware
- ‚úÖ Input validation
- ‚úÖ Session validation
- ‚úÖ Rate limiting (–µ—Å–ª–∏ Redis –¥–æ—Å—Ç—É–ø–µ–Ω)
- ‚úÖ Health check endpoint

### Frontend

- ‚úÖ Error Boundary
- ‚úÖ API retry logic
- ‚úÖ Try-catch –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚úÖ Graceful degradation
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Infrastructure

- ‚úÖ Health checks –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ Log rotation
- ‚úÖ Resource limits
- ‚úÖ Network isolation
- ‚úÖ SSL/TLS

---

## üìã –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ production

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- [x] –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Redis —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Frontend —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Gateway —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] Backend –∑–∞–ø—É—â–µ–Ω (—Ç—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞)
- [x] SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Health checks —Ä–∞–±–æ—Ç–∞—é—Ç
- [x] Log rotation –Ω–∞—Å—Ç—Ä–æ–µ–Ω

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [x] Session validation –∞–∫—Ç–∏–≤–Ω–∞
- [x] Input validation —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] Error sanitization –≤–∫–ª—é—á–µ–Ω–∞
- [x] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- [x] SSL/TLS –≤–∫–ª—é—á–µ–Ω

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- [x] Docker log rotation
- [x] Health checks
- [x] Error logging
- [ ] Glances (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] UptimeRobot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- [x] Telegram Web App –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- [x] TON Connect —Ä–∞–±–æ—Ç–∞–µ—Ç
- [x] PWA –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- [x] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (—Ç—Ä–µ–±—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)
- [x] Backup —Å–∏—Å—Ç–µ–º–∞
- [x] PaymentTracker —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üöÄ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend

```bash
cd /home/ubuntu
docker-compose up -d backend
docker-compose logs -f backend  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```

### 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

```bash
cd backend
make swagger-install
make swagger
docker-compose build backend
docker-compose restart backend
```

### 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

```bash
# Health check
curl https://app.gstdtoken.com/api/v1/health

# Public stats
curl https://app.gstdtoken.com/api/v1/stats/public

# Pool status
curl https://app.gstdtoken.com/api/v1/pool/status
```

### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å frontend

```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
https://app.gstdtoken.com

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Telegram
# –û—Ç–∫—Ä—ã—Ç—å –±–æ—Ç–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É Web App
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- **Backend:** ‚úÖ 100% –ø–æ–∫—Ä—ã—Ç–∏–µ panic recovery
- **Frontend:** ‚úÖ Error Boundary –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- **API:** ‚úÖ Retry logic –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- **Health Checks:** ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- **Log Rotation:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ
- **Error Logging:** ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–∞–∂–¥—ã–µ 12 —á–∞—Å–æ–≤
- **–†–µ—Ç–µ–Ω—à–Ω:** ‚úÖ 14 –¥–Ω–µ–π
- **–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:** ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π –≤–µ—Ä–¥–∏–∫—Ç

### ‚úÖ –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production

**–í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ:**

1. ‚úÖ **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** Docker Compose, —Å–µ—Ç—å, health checks
2. ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** Session validation, input validation, error handling
3. ‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** Telegram, TON Connect, PWA
4. ‚úÖ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** Log rotation, health checks, error logging
5. ‚úÖ **–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ, —Å –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
6. ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** Swagger UI (—Ç—Ä–µ–±—É–µ—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏)

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –¥–µ–π—Å—Ç–≤–∏–π

1. **–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å backend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä**
2. **–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é**

### üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **–µ–¥–∏–Ω—ã–π —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º** –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º. –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã, –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –æ–±–µ—Å–ø–µ—á–µ–Ω–∞.

---

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2026-01-13  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ production (–ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ backend)
