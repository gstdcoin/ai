# –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã GSTD Platform

**–î–∞—Ç–∞ –∞—É–¥–∏—Ç–∞:** 2026-01-14  
**–í–µ—Ä—Å–∏—è:** Production  
**–°—Ç–∞—Ç—É—Å:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –Ω–∞–π–¥–µ–Ω—ã

---

## –†–µ–∑—é–º–µ

–ü—Ä–æ–≤–µ–¥—ë–Ω –ø–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç —Å–∏—Å—Ç–µ–º—ã —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ —Ç–µ–∫—É—â–∏–µ –æ—à–∏–±–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
- "Failed to load tasks" - –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∑–∞–¥–∞–Ω–∏–π
- "Something went wrong" - —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ ErrorBoundary
- "Login failed" - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫–æ—à–µ–ª—å–∫–∞ —á–µ—Ä–µ–∑ TonConnect
- –ù–µ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–∫–ª–∞–¥–∫–∏ –º–µ–Ω—é (—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø–æ–º–æ—â—å)

**–ù–∞–π–¥–µ–Ω–æ:** 8 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º, 5 –ø—Ä–æ–±–ª–µ–º —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞, 3 —É–ª—É—á—à–µ–Ω–∏—è

---

## –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (CRITICAL)

### 1. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ nginx –∫–æ–Ω—Ñ–∏–≥–∞—Ö

**–§–∞–π–ª—ã:**
- `nginx/gateway.conf` (—Å—Ç—Ä–æ–∫–∏ 24, 48)
- `nginx/conf.d/app.gstdtoken.com.conf` (—Å—Ç—Ä–æ–∫–∏ 30, 47)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```nginx
# –í gateway.conf:
proxy_pass http://frontend:3000;  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
proxy_pass http://backend:8080;   # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ

# –í app.gstdtoken.com.conf:
set $frontend_upstream http://frontend:3000;  # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
set $backend_upstream http://backend:8080;    # ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
```

**–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤** (–∏–∑ `docker-compose.yml`):
- `gstd_frontend` (–Ω–µ `frontend`)
- `gstd_backend` (–Ω–µ `backend`)

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- 502 Bad Gateway –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ nginx
- –ú–∞–Ω–∏—Ñ–µ—Å—Ç TonConnect –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω (502)
- –í—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –ø–∞–¥–∞—é—Ç —Å 502
- Frontend –Ω–µ –º–æ–∂–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```nginx
# gateway.conf:
proxy_pass http://gstd_frontend:3000;
proxy_pass http://gstd_backend:8080;

# app.gstdtoken.com.conf:
set $frontend_upstream http://gstd_frontend:3000;
set $backend_upstream http://gstd_backend:8080;
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å—é —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º—ã

---

### 2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π NEXT_PUBLIC_API_URL –≤ docker-compose.prod.yml

**–§–∞–π–ª:** `docker-compose.prod.yml` (—Å—Ç—Ä–æ–∫–∏ 183, 187)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```yaml
NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL:-https://app.gstdtoken.com/api}  # ‚ùå
```

**–ü–æ—á–µ–º—É –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
–í `apiClient.ts` (—Å—Ç—Ä–æ–∫–∞ 92) —É–∂–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è `/api/v1`:
```typescript
const apiBaseUrl = `${rawBase.replace(/\/+$/, '')}/api/v1`;
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–≤–æ–π–Ω–æ–π `/api` ‚Üí `https://app.gstdtoken.com/api/api/v1/tasks` ‚ùå

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```yaml
NEXT_PUBLIC_API_URL=${NEXT_PUBLIC_API_URL:-https://app.gstdtoken.com}  # ‚úÖ –ë–µ–∑ /api
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –≤—Å–µ API –∑–∞–ø—Ä–æ—Å—ã –∏–¥—É—Ç –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ URL

---

### 3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ 401 –æ—à–∏–±–æ–∫ –≤ apiClient.ts

**–§–∞–π–ª:** `frontend/src/lib/apiClient.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ 401 (Unauthorized) –Ω–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—á–∏—Å—Ç–∫–∏ —Å–µ—Å—Å–∏–∏ –∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ –ª–æ–≥–∏–Ω.

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```typescript
if (!response.ok) {
  throw new ApiError(...);  // –ü—Ä–æ—Å—Ç–æ –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫—É
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç "Failed to load tasks" –≤–º–µ—Å—Ç–æ –ø–æ–Ω—è—Ç–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ª–æ–≥–∏–Ω–∞
- –°–µ—Å—Å–∏—è –æ—Å—Ç–∞—ë—Ç—Å—è –≤ localStorage, –Ω–æ –Ω–µ–≤–∞–ª–∏–¥–Ω–∞
- –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –ª–æ–≥–∏–Ω–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
// Handle errors
if (!response.ok) {
  // Handle 401 Unauthorized - clear session and redirect
  if (response.status === 401) {
    if (typeof window !== 'undefined') {
      localStorage.removeItem('session_token');
      localStorage.removeItem('user');
      // Optionally redirect to login page
      // window.location.href = '/';
    }
    throw new ApiError(
      'Session expired. Please login again.',
      response.status,
      response.statusText,
      data
    );
  }
  
  throw new ApiError(...);
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –ø–ª–æ—Ö–æ–π UX –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏

---

### 4. JSON.parse –±–µ–∑ try-catch –≤ NewTaskModal.tsx

**–§–∞–π–ª:** `frontend/src/components/dashboard/NewTaskModal.tsx` (—Å—Ç—Ä–æ–∫–∞ 82)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const payloadObj = formData.payload.trim() ? JSON.parse(formData.payload) : {};
```

–ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–µ–¥—ë—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π JSON, `JSON.parse` –≤—ã–±—Ä–æ—Å–∏—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –º–æ–∂–µ—Ç —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—å ErrorBoundary.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
let payloadObj = {};
if (formData.payload.trim()) {
  try {
    payloadObj = JSON.parse(formData.payload);
  } catch (parseError) {
    logger.error('Invalid JSON in payload', parseError);
    toast.error(t('error') || 'Error', t('invalid_json') || 'Invalid JSON in payload field');
    return; // Stop form submission
  }
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å "Something went wrong"

---

### 5. –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ document.getElementById –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ SSR

**–§–∞–π–ª:** `frontend/src/components/dashboard/Dashboard.tsx` (—Å—Ç—Ä–æ–∫–∏ 138-139)

**–ü—Ä–æ–±–ª–µ–º–∞:**
```typescript
const tempEl = document.getElementById('network-temperature');
const pressureEl = document.getElementById('computational-pressure');
```

–ü—Ä–∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ (SSR) `document` –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —á—Ç–æ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫—É.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```typescript
useEffect(() => {
  if (typeof window === 'undefined') return;
  
  const tempEl = document.getElementById('network-temperature');
  const pressureEl = document.getElementById('computational-pressure');
  // ... rest of the code
}, [stats]);
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –ø—Ä–∏ SSR

---

### 6. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ location –¥–ª—è tonconnect-manifest.json –≤ app.gstdtoken.com.conf

**–§–∞–π–ª:** `nginx/conf.d/app.gstdtoken.com.conf`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í `app.gstdtoken.com.conf` –Ω–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ location –¥–ª—è `/tonconnect-manifest.json`, —Ö–æ—Ç—è –æ–Ω –µ—Å—Ç—å –≤ `gateway.conf`.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `app.gstdtoken.com.conf`, –º–∞–Ω–∏—Ñ–µ—Å—Ç –º–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –ù–µ—Ç —è–≤–Ω—ã—Ö CORS –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å –≤ `app.gstdtoken.com.conf` –ø–æ—Å–ª–µ location `/`:
```nginx
# TON Connect manifest
location = /tonconnect-manifest.json {
    set $frontend_upstream http://gstd_frontend:3000;
    proxy_pass $frontend_upstream;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    add_header Access-Control-Allow-Origin * always;
    add_header Content-Type application/json always;
    access_log off;
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –±–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–æ—à–µ–ª—å–∫–∞

---

### 7. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∞ –¥–ª—è X-Session-Token –≤ nginx

**–§–∞–π–ª:** `nginx/conf.d/app.gstdtoken.com.conf` (—Å—Ç—Ä–æ–∫–∞ 70)

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í —Å–ø–∏—Å–∫–µ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ CORS –Ω–µ—Ç `X-Session-Token`:
```nginx
add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization' always;
```

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```nginx
add_header 'Access-Control-Allow-Headers' 'DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range,Authorization,X-Session-Token' always;
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - –±–ª–æ–∫–∏—Ä—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

---

### 8. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫ –≤ getTasks

**–§–∞–π–ª:** `backend/internal/api/routes.go` (—Å—Ç—Ä–æ–∫–∏ 313-318)

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ü—Ä–∏ –æ—à–∏–±–∫–µ –ë–î –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è 200 OK —Å –ø—É—Å—Ç—ã–º –º–∞—Å—Å–∏–≤–æ–º:
```go
tasks, err := service.GetTasks(c.Request.Context(), requesterPtr)
if err != nil {
    log.Printf("Error getting tasks: %v", err)
    // Return empty array instead of 500 error to prevent frontend crashes
    c.JSON(200, gin.H{"tasks": []interface{}{}})  // ‚ùå –°–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É
    return
}
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—É—Å—Ç–æ–π —Å–ø–∏—Å–æ–∫ –≤–º–µ—Å—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ
- –ü—Ä–æ–±–ª–µ–º—ã —Å –ë–î –æ—Å—Ç–∞—é—Ç—Å—è –Ω–µ–∑–∞–º–µ—á–µ–Ω–Ω—ã–º–∏

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```go
tasks, err := service.GetTasks(c.Request.Context(), requesterPtr)
if err != nil {
    log.Printf("Error getting tasks: %v", err)
    // Return 500 for database errors, but with safe error message
    c.JSON(500, gin.H{
        "error": "failed to load tasks",
        "message": "Unable to retrieve tasks. Please try again later.",
    })
    return
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üî¥ CRITICAL - —Å–∫—Ä—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

---

## –ü—Ä–æ–±–ª–µ–º—ã —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ (HIGH)

### 9. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–§–∞–π–ª:** `frontend/src/lib/apiClient.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:**
401 –æ—à–∏–±–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –ø–æ-—Ä–∞–∑–Ω–æ–º—É –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, –Ω–µ—Ç –µ–¥–∏–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫, –∫–æ—Ç–æ—Ä—ã–π:
- –û—á–∏—â–∞–µ—Ç —Å–µ—Å—Å–∏—é –ø—Ä–∏ 401
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏—Ç –Ω–∞ –ª–æ–≥–∏–Ω

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° HIGH - —É–ª—É—á—à–∞–µ—Ç UX

---

### 10. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ –Ω–∞ backend

**–§–∞–π–ª:** `backend/internal/api/routes.go`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–û—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `log.Printf`, –Ω–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `zerolog` –∏–ª–∏ `zap`) —Å –ø–æ–ª—è–º–∏:
- Request ID
- User ID / Wallet Address
- Timestamp
- Error stack trace
- Request context

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° HIGH - —É–ª—É—á—à–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É

---

### 11. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º

**–§–∞–π–ª:** `backend/internal/api/middleware_session.go` (—Å—Ç—Ä–æ–∫–∏ 21-25)

**–¢–µ–∫—É—â–∏–π –∫–æ–¥:**
```go
if redisClient == nil {
    log.Printf("‚ö†Ô∏è  ValidateSession: Redis client not available, skipping session validation")
    c.Next()  // ‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é!
    return
}
```

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ï—Å–ª–∏ Redis –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –≤—Å–µ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```go
if redisClient == nil {
    log.Printf("‚ùå ValidateSession: Redis client not available - CRITICAL SECURITY ISSUE")
    c.JSON(http.StatusServiceUnavailable, gin.H{
        "error": "authentication service unavailable",
        "message": "Please try again later",
    })
    c.Abort()
    return
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° HIGH - –ø—Ä–æ–±–ª–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

---

### 12. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ session_token —Ñ–æ—Ä–º–∞—Ç–∞

**–§–∞–π–ª:** `backend/internal/api/middleware_session.go`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ù–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∞ `session_token` –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤ Redis –∫–ª—é—á–µ.

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é:
```go
// Validate session token format (hex string, 64 chars)
if len(sessionToken) != 64 || !isHexString(sessionToken) {
    c.JSON(http.StatusBadRequest, gin.H{
        "error": "invalid session token format",
    })
    c.Abort()
    return
}
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° HIGH - –∑–∞—â–∏—Ç–∞ –æ—Ç –∏–Ω—ä–µ–∫—Ü–∏–π

---

### 13. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤ StatsPanel

**–§–∞–π–ª:** `frontend/src/components/dashboard/StatsPanel.tsx`

**–ü—Ä–æ–±–ª–µ–º–∞:**
–ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä–æ—Å—Ç–æ –º–æ–ª—á–∞ –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ (—Å—Ç—Ä–æ–∫–∏ 66-72, 94-96, 106-108).

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –≤–º–µ—Å—Ç–æ –º–æ–ª—á–∞–ª–∏–≤–æ–≥–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü° HIGH - —É–ª—É—á—à–∞–µ—Ç UX

---

## –£–ª—É—á—à–µ–Ω–∏—è (MEDIUM/LOW)

### 14. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è polling –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

**–§–∞–π–ª:** `frontend/src/components/dashboard/TasksPanel.tsx` (—Å—Ç—Ä–æ–∫–∞ 220)

**–¢–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ:** 12 —Å–µ–∫—É–Ω–¥

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª:
- 5 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
- 30 —Å–µ–∫—É–Ω–¥ –ø—Ä–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ
- –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏ —Å–∫—Ä—ã—Ç–æ–π –≤–∫–ª–∞–¥–∫–µ (Page Visibility API)

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ MEDIUM - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### 15. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ—Ç—Ä–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ API
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ MEDIUM - —É–ª—É—á—à–∞–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

---

### 16. –£–ª—É—á—à–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –æ–± –æ—à–∏–±–∫–∞—Ö

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:**
–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª–µ–µ –ø–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** üü¢ LOW - —É–ª—É—á—à–∞–µ—Ç UX

---

## –ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è (–Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

1. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∏–º–µ–Ω–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤ nginx** (–ø—Ä–æ–±–ª–µ–º—ã #1, #6)
   - `nginx/gateway.conf`
   - `nginx/conf.d/app.gstdtoken.com.conf`
   - –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

2. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å NEXT_PUBLIC_API_URL** (–ø—Ä–æ–±–ª–µ–º–∞ #2)
   - `docker-compose.prod.yml`
   - –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å frontend –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

3. **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É 401** (–ø—Ä–æ–±–ª–µ–º–∞ #3)
   - `frontend/src/lib/apiClient.ts`

4. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å JSON.parse** (–ø—Ä–æ–±–ª–µ–º–∞ #4)
   - `frontend/src/components/dashboard/NewTaskModal.tsx`

5. **–ò—Å–ø—Ä–∞–≤–∏—Ç—å SSR –ø—Ä–æ–±–ª–µ–º—É** (–ø—Ä–æ–±–ª–µ–º–∞ #5)
   - `frontend/src/components/dashboard/Dashboard.tsx`

6. **–î–æ–±–∞–≤–∏—Ç—å CORS –∑–∞–≥–æ–ª–æ–≤–æ–∫** (–ø—Ä–æ–±–ª–µ–º–∞ #7)
   - `nginx/conf.d/app.gstdtoken.com.conf`

7. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ getTasks** (–ø—Ä–æ–±–ª–µ–º–∞ #8)
   - `backend/internal/api/routes.go`

### –§–∞–∑–∞ 2: –£–ª—É—á—à–µ–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ–¥–µ–ª–∏)

8. **–£–ª—É—á—à–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ Redis** (–ø—Ä–æ–±–ª–µ–º–∞ #11)
9. **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é session_token** (–ø—Ä–æ–±–ª–µ–º–∞ #12)
10. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫** (–ø—Ä–æ–±–ª–µ–º–∞ #9)

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–≤ —Ç–µ—á–µ–Ω–∏–µ –º–µ—Å—è—Ü–∞)

11. **–£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (–ø—Ä–æ–±–ª–µ–º–∞ #10)
12. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å polling** (–ø—Ä–æ–±–ª–µ–º–∞ #14)
13. **–î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏** (–ø—Ä–æ–±–ª–µ–º–∞ #15)

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

1. **–ú–∞–Ω–∏—Ñ–µ—Å—Ç TonConnect:**
   ```bash
   curl -I https://app.gstdtoken.com/tonconnect-manifest.json
   # –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK
   ```

2. **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
   ```bash
   curl https://app.gstdtoken.com/api/v1/health
   curl https://app.gstdtoken.com/api/v1/tasks
   # –î–æ–ª–∂–Ω—ã –≤–µ—Ä–Ω—É—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
   ```

3. **Frontend:**
   - –û—Ç–∫—Ä—ã—Ç—å https://app.gstdtoken.com
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫)
   - –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∑–∞–¥–∞–Ω–∏–π
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫

---

## –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **üî¥ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã:** 8
- **üü° –ü—Ä–æ–±–ª–µ–º—ã –≤—ã—Å–æ–∫–æ–≥–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:** 5
- **üü¢ –£–ª—É—á—à–µ–Ω–∏—è:** 3

**–û–±—â–∏–π —Å—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –¢—Ä–µ–±—É—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º

---

**–î–∞—Ç–∞:** 2026-01-14  
**–ê—É–¥–∏—Ç–æ—Ä:** AI Assistant  
**–°–ª–µ–¥—É—é—â–∏–π –∞—É–¥–∏—Ç:** –ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
